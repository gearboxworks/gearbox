{"version":3,"sources":["webpack:///./node_modules/filenamify/index.js","webpack:///./node_modules/trim-repeated/index.js","webpack:///./src/views/Preferences.vue?4ace","webpack:///./node_modules/strip-outer/index.js","webpack:///./node_modules/escape-string-regexp/index.js","webpack:///./src/views/Preferences.vue?a995","webpack:///src/views/Preferences.vue","webpack:///./src/views/Preferences.vue?979d","webpack:///./src/views/Preferences.vue?1586","webpack:///./node_modules/filename-reserved-regex/index.js","webpack:///./node_modules/path-browserify/index.js"],"names":["path","__webpack_require__","trimRepeated","filenameReservedRegex","stripOuter","MAX_FILENAME_LENGTH","reControlChars","reRelativePath","filenamify","string","options","TypeError","replacement","undefined","test","Error","replace","length","windowsNames","slice","filePath","resolve","join","dirname","basename","module","exports","escapeStringRegexp","str","target","RegExp","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Preferences_vue_vue_type_style_index_0_id_97357c8c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Preferences_vue_vue_type_style_index_0_id_97357c8c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","sub","matchOperatorsRe","render","_vm","this","_h","$createElement","_c","_self","_v","_l","basedirs","basedir","key","id","ref","refInFor","staticClass","attrs","value","attributes","type","required","placeholder","variant","title","on","click","$event","preventDefault","updateBasedir","icon","defaultBasedir","disabled","deleteBasedir","addBasedir","records","change","onChangeBasedir","domProps","_s","readonly","staticRenderFns","Preferencesvue_type_script_lang_js_","name","data","baseDirName","baseDirPath","computed","Object","objectSpread","vuex_esm","basedirBy","mounted","$store","dispatch","methods","_this","$refs","recordData","then","getters","console","log","basedirId","nickname","res","views_Preferencesvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","process","normalizeArray","parts","allowAboveRoot","up","i","last","splice","unshift","splitPathRe","splitPath","filename","exec","filter","xs","f","push","resolvedPath","resolvedAbsolute","arguments","cwd","charAt","split","p","normalize","isAbsolute","trailingSlash","substr","paths","Array","prototype","call","index","relative","from","to","trim","arr","start","end","fromParts","toParts","Math","min","samePartsLength","outputParts","concat","sep","delimiter","result","root","dir","ext","extname","len"],"mappings":"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","file":"js/preferences.c5b8ff51.js","sourcesContent":["'use strict';\nconst path = require('path');\nconst trimRepeated = require('trim-repeated');\nconst filenameReservedRegex = require('filename-reserved-regex');\nconst stripOuter = require('strip-outer');\n\n// Doesn't make sense to have longer filenames\nconst MAX_FILENAME_LENGTH = 100;\n\nconst reControlChars = /[\\u0000-\\u001f\\u0080-\\u009f]/g; // eslint-disable-line no-control-regex\nconst reRelativePath = /^\\.+/;\n\nconst filenamify = (string, options = {}) => {\n\tif (typeof string !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\tconst replacement = options.replacement === undefined ? '!' : options.replacement;\n\n\tif (filenameReservedRegex().test(replacement) && reControlChars.test(replacement)) {\n\t\tthrow new Error('Replacement string cannot contain reserved filename characters');\n\t}\n\n\tstring = string.replace(filenameReservedRegex(), replacement);\n\tstring = string.replace(reControlChars, replacement);\n\tstring = string.replace(reRelativePath, replacement);\n\n\tif (replacement.length > 0) {\n\t\tstring = trimRepeated(string, replacement);\n\t\tstring = string.length > 1 ? stripOuter(string, replacement) : string;\n\t}\n\n\tstring = filenameReservedRegex.windowsNames().test(string) ? string + replacement : string;\n\tstring = string.slice(0, MAX_FILENAME_LENGTH);\n\n\treturn string;\n};\n\nfilenamify.path = (filePath, options) => {\n\tfilePath = path.resolve(filePath);\n\treturn path.join(path.dirname(filePath), filenamify(path.basename(filePath), options));\n};\n\nmodule.exports = filenamify;\n","'use strict';\nvar escapeStringRegexp = require('escape-string-regexp');\n\nmodule.exports = function (str, target) {\n\tif (typeof str !== 'string' || typeof target !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\treturn str.replace(new RegExp('(?:' + escapeStringRegexp(target) + '){2,}', 'g'), target);\n};\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preferences.vue?vue&type=style&index=0&id=97357c8c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preferences.vue?vue&type=style&index=0&id=97357c8c&scoped=true&lang=css&\"","'use strict';\nvar escapeStringRegexp = require('escape-string-regexp');\n\nmodule.exports = function (str, sub) {\n\tif (typeof str !== 'string' || typeof sub !== 'string') {\n\t\tthrow new TypeError();\n\t}\n\n\tsub = escapeStringRegexp(sub);\n\treturn str.replace(new RegExp('^' + sub + '|' + sub + '$', 'g'), '');\n};\n","'use strict';\n\nvar matchOperatorsRe = /[|\\\\{}()[\\]^$+*?.]/g;\n\nmodule.exports = function (str) {\n\tif (typeof str !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\treturn str.replace(matchOperatorsRe, '\\\\$&');\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-form',[_c('b-container',[_c('h1',[_vm._v(\"Preferences\")]),_c('hr'),_c('h2',[_vm._v(\"Project Directories\")]),_c('h4',[_vm._v(\"Known directories:\")]),_vm._l((_vm.basedirs.records),function(basedir){return _c('b-form-row',{key:basedir.id},[_c('b-form-input',{ref:((basedir.id) + \"-basedir\"),refInFor:true,staticClass:\"basedir\",attrs:{\"id\":((basedir.id) + \"-basedir\"),\"value\":basedir.attributes.basedir,\"type\":\"text\",\"required\":\"\",\"placeholder\":\"Path\"}}),_c('b-button',{staticClass:\"btn--update\",attrs:{\"type\":\"submit.prevent\",\"variant\":\"success\",\"title\":\"Update directory reference\"},on:{\"click\":function($event){$event.preventDefault();return _vm.updateBasedir(basedir.id)}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fa', 'check-circle']}})],1),_c('b-button',{staticClass:\"btn--delete\",attrs:{\"type\":\"submit.prevent\",\"variant\":basedir.id === _vm.defaultBasedir.id ? 'secondary':'warning',\"disabled\":basedir.id === _vm.defaultBasedir.id,\"title\":basedir.id === _vm.defaultBasedir.id ? 'Cannot delete reference to the default directory' : 'Delete reference to this directory'},on:{\"click\":function($event){$event.preventDefault();return _vm.deleteBasedir(basedir.id)}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fa', 'trash-alt']}})],1)],1)}),_c('b-form-row',[_c('b-form-input',{ref:\"new-basedir\",staticClass:\"basedir\",attrs:{\"type\":\"text\",\"placeholder\":\"Input existing directory...\"}}),_c('b-button',{staticClass:\"btn--add\",attrs:{\"type\":\"submit.prevent\",\"variant\":\"success\",\"title\":\"Add new directory reference\"},on:{\"click\":function($event){$event.preventDefault();return _vm.addBasedir($event)}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fa', 'plus-circle']}})],1),_c('button',{staticClass:\"btn btn--delete is-invisible\"})],1),_c('hr'),_c('h4',[_vm._v(\"Default directory:\")]),(_vm.basedirs.records.length>1)?_c('b-form-select',{attrs:{\"id\":\"default-basedir-input\",\"value\":\"default\"},on:{\"change\":function($event){return _vm.onChangeBasedir($event)}}},[_c('option',{attrs:{\"disabled\":\"\",\"value\":\"\"}},[_vm._v(\"Select directory...\")]),_vm._l((_vm.basedirs.records),function(basedir){return _c('option',{key:basedir.id,domProps:{\"value\":basedir.id}},[_vm._v(_vm._s(basedir.attributes.basedir))])})],2):_c('b-form-input',{attrs:{\"readonly\":true,\"value\":_vm.defaultBasedir ? _vm.defaultBasedir.attributes.basedir : ''}})],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <b-form>\n      <b-container>\n        <h1>Preferences</h1>\n        <hr>\n        <h2>Project Directories</h2>\n        <h4>Known directories:</h4>\n          <b-form-row\n            v-for=\"basedir in basedirs.records\"\n            :key=\"basedir.id\"\n          >\n\n            <b-form-input\n              :id=\"`${basedir.id}-basedir`\"\n              :ref=\"`${basedir.id}-basedir`\"\n              :value=\"basedir.attributes.basedir\"\n              class=\"basedir\"\n              type=\"text\"\n              required\n              placeholder=\"Path\" />\n\n            <b-button\n              type=\"submit.prevent\"\n              variant=\"success\"\n              @click.prevent=\"updateBasedir(basedir.id)\"\n              class=\"btn--update\"\n              title=\"Update directory reference\"\n            ><font-awesome-icon :icon=\"['fa', 'check-circle']\" /></b-button>\n\n            <b-button\n              type=\"submit.prevent\"\n              :variant=\"basedir.id === defaultBasedir.id ? 'secondary':'warning'\"\n              @click.prevent=\"deleteBasedir(basedir.id)\"\n              :disabled=\"basedir.id === defaultBasedir.id\"\n              :title=\"basedir.id === defaultBasedir.id ? 'Cannot delete reference to the default directory' : 'Delete reference to this directory'\"\n              class=\"btn--delete\"\n            >\n              <font-awesome-icon :icon=\"['fa', 'trash-alt']\" />\n            </b-button>\n\n        </b-form-row>\n\n        <b-form-row>\n            <b-form-input\n              ref=\"new-basedir\"\n              type=\"text\"\n              class=\"basedir\"\n              placeholder=\"Input existing directory...\"\n            />\n            <b-button\n              type=\"submit.prevent\"\n              variant=\"success\"\n              @click.prevent=\"addBasedir\"\n              class=\"btn--add\"\n              title=\"Add new directory reference\"\n            ><font-awesome-icon :icon=\"['fa', 'plus-circle']\" /></b-button>\n          <button class=\"btn btn--delete is-invisible\"></button>\n        </b-form-row>\n\n        <hr>\n\n        <h4>Default directory:</h4>\n        <b-form-select\n          v-if=\"basedirs.records.length>1\"\n          id=\"default-basedir-input\"\n          value=\"default\"\n          @change=\"onChangeBasedir($event)\"\n        >\n          <option disabled value=\"\">Select directory...</option>\n          <option v-for=\"basedir in basedirs.records\" :value=\"basedir.id\" :key=\"basedir.id\">{{basedir.attributes.basedir}}</option>\n        </b-form-select>\n        <b-form-input\n          v-else\n          :readonly=\"true\"\n          :value=\"defaultBasedir ? defaultBasedir.attributes.basedir : ''\"\n        />\n\n      </b-container>\n    </b-form>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from 'vuex'\nimport filenamify from 'filenamify'\n\nexport default {\n  name: 'Preferences',\n  data () {\n    return {\n      baseDirName: '',\n      baseDirPath: ''\n    }\n  },\n  computed: {\n    ...mapState(['basedirs']),\n    ...mapGetters(['basedirBy']),\n    defaultBasedir () {\n      return this.basedirBy('id', 'default')\n    }\n  },\n  mounted () {\n    this.$store.dispatch('basedirs/loadAll')\n  },\n  methods: {\n    addBasedir () {\n      const basedir = this.$refs['new-basedir']['$el'].value\n      // const id = filenamify(basedir).replace(/!/g, '_').replace(/\\s/g, '-').toLowerCase()\n\n      const recordData = {\n        // id,\n        'type': 'basedir',\n        'attributes': {\n          basedir\n          // nickname: id\n        }\n      }\n      this.$store.dispatch('basedirs/create', recordData).then(() => {\n        const basedir = this.$store.getters['basedirs/lastCreated']\n        console.log(basedir)\n      })\n    },\n    updateBasedir (basedirId) {\n      const basedir = this.$refs[basedirId + '-basedir'][0]['$el'].value\n\n      if (basedirId && basedir) {\n        const recordData = {\n          id: basedirId,\n          'type': 'basedir',\n          attributes: {\n            basedir,\n            nickname: basedirId\n          }\n        }\n        // const record = this.basedirBy(basedirId)\n        // record.attributes.basedir = basedir\n        // console.log(basedirId, recordData)\n        this.$store.dispatch('basedirs/update', recordData).then((res) => {\n          console.log(res)\n        })\n      }\n    },\n    deleteBasedir (basedirId) {\n      // console.log('deleteBasedir', basedirId)\n      if (basedirId !== 'default') {\n        if (basedirId) {\n          this.$store.dispatch('basedirs/delete', { id: basedirId }).then((res) => {\n            console.log(res)\n          })\n        }\n      } else {\n        // console.log('The default base directory will not be deleted.')\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .form-row {\n    padding: 0.25rem;\n  }\n  .basedir {\n    width: calc(100% - 7rem);\n    display: inline-block;\n    margin-right: 0.5rem;\n    margin-left: 0.5rem;\n  }\n  .is-invisible {\n    visibility: hidden;\n  }\n  .btn--delete {\n    width: 3rem;\n  }\n  .btn--add,\n  .btn--update {\n    width: 3rem;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preferences.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preferences.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Preferences.vue?vue&type=template&id=97357c8c&scoped=true&\"\nimport script from \"./Preferences.vue?vue&type=script&lang=js&\"\nexport * from \"./Preferences.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Preferences.vue?vue&type=style&index=0&id=97357c8c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"97357c8c\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\n/* eslint-disable no-control-regex */\n// TODO: remove parens when Node.js 6 is targeted. Node.js 4 barfs at it.\nmodule.exports = () => (/[<>:\"\\/\\\\|?*\\x00-\\x1F]/g);\nmodule.exports.windowsNames = () => (/^(con|prn|aux|nul|com[0-9]|lpt[0-9])$/i);\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// Split a filename into [root, dir, basename, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\nvar splitPath = function(filename) {\n  return splitPathRe.exec(filename).slice(1);\n};\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function(path) {\n  var result = splitPath(path),\n      root = result[0],\n      dir = result[1];\n\n  if (!root && !dir) {\n    // No dirname whatsoever\n    return '.';\n  }\n\n  if (dir) {\n    // It has a dirname, strip trailing slash\n    dir = dir.substr(0, dir.length - 1);\n  }\n\n  return root + dir;\n};\n\n\nexports.basename = function(path, ext) {\n  var f = splitPath(path)[2];\n  // TODO: make this comparison case-insensitive on windows?\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\n\nexports.extname = function(path) {\n  return splitPath(path)[3];\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n"],"sourceRoot":""}