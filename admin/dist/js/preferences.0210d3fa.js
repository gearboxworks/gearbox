(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["preferences"],{"11e9":function(t,e,i){var r=i("52a7"),n=i("4630"),a=i("6821"),s=i("6a99"),o=i("69a8"),c=i("c69a"),d=Object.getOwnPropertyDescriptor;e.f=i("9e1e")?d:function(t,e){if(t=a(t),e=s(e,!0),c)try{return d(t,e)}catch(i){}if(o(t,e))return n(!r.f.call(t,e),t[e])}},"2b2d":function(t,e,i){"use strict";var r=i("36f4"),n=i.n(r);n.a},"36f4":function(t,e,i){},"5dbc":function(t,e,i){var r=i("d3f4"),n=i("8b97").set;t.exports=function(t,e,i){var a,s=e.constructor;return s!==i&&"function"==typeof s&&(a=s.prototype)!==i.prototype&&r(a)&&n&&n(t,a),t}},8421:function(t,e,i){},"8b97":function(t,e,i){var r=i("d3f4"),n=i("cb7c"),a=function(t,e){if(n(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=i("9b43")(Function.call,i("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(n){e=!0}return function(t,i){return a(t,i),e?t.__proto__=i:r(t,i),t}}({},!1):void 0),check:a}},9093:function(t,e,i){var r=i("ce10"),n=i("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,n)}},a04e:function(t,e,i){"use strict";var r=i("8421"),n=i.n(r);n.a},a55d:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-form",{class:{"form--preferences":!0,"is-loading":t.isLoading}},[i("h1",[t._v("Preferences")]),i("h2",[t._v("Project Directories")]),t.isLoading?i("div",{staticClass:"basedirs-loading"},[i("font-awesome-icon",{attrs:{icon:"circle-notch",spin:""}}),t._v("\n     "),i("span",[t._v("Loading directories...")])],1):i("div",{staticClass:"basedirs-wrap"},t._l(t.basedirs,function(t,e){return i("basedir-row-edit",{key:t.id,attrs:{basedir:t,"tab-offset":e,"is-deletable":"default"!==t.id}})}),1),i("basedir-row-add",{attrs:{"tab-offset":3*t.basedirs.length}})],1)},n=[],a=i("cebc"),s=i("2f62"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-form-row",{class:{"form-row--basedir-edit":!0,"is-updating":t.isUpdating,"is-modified":t.isModified,"is-deleting":t.isDeleting}},[i("b-input-group",{class:{"input-group--basedir-edit":!0},attrs:{role:"tabpanel"}},[i("b-form-input",{ref:t.basedir.id+"-basedir",staticClass:"basedir",attrs:{value:t.basedir.attributes.basedir,state:t.isValid,type:"text",required:"",placeholder:"Path",tabindex:"tabOffset"},on:{keyup:t.touch,change:t.touch}}),t.isModified?i("b-input-group-append",[i("b-button",{staticClass:"btn--update",attrs:{type:"submit.prevent",variant:t.isModified?"outline-info":"outline-secondary",disabled:!t.isModified,title:"Update directory reference",tabindex:t.tabOffset+1},on:{click:function(e){return e.preventDefault(),t.onUpdateBasedir(e)}}},[t.isUpdating?i("font-awesome-icon",{attrs:{spin:"",icon:["fa","circle-notch"]}}):i("font-awesome-icon",{attrs:{icon:["fa","check"]}})],1)],1):t._e()],1),i("b-button-group",{staticClass:"button-group--extras"},[i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn--copy-dir",attrs:{variant:"outline-info",title:"Copy to clipboard"},on:{click:function(e){return e.preventDefault(),t.onCopyToClipboard(e)}}},[i("font-awesome-icon",{attrs:{icon:["fa","clone"]}})],1),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn--open-dir",attrs:{variant:"outline-info",title:"Open in file manager"},on:{click:function(e){return e.preventDefault(),t.onOpenDirectory(e)}}},[i("font-awesome-icon",{attrs:{icon:["fa","folder-open"]}})],1)],1),i("b-button",{staticClass:"btn--delete",attrs:{type:"submit.prevent",variant:t.basedir.id===t.isDeletable?"outline-secondary":"outline-warning",disabled:!t.isDeletable,title:t.isDeletable?"Delete this directory":"Cannot delete the default directory",tabindex:t.tabOffset+2},on:{click:function(e){return e.preventDefault(),t.onDeleteBasedir(e)}}},[t.isDeleting?i("font-awesome-icon",{attrs:{spin:"",icon:["fa","circle-notch"]}}):i("font-awesome-icon",{attrs:{icon:["fa","trash-alt"]}})],1),i("div",{staticClass:"invalid-feedback d-block"},[t._v(t._s(t.errors||" "))])],1)},c=[],d=(i("a481"),i("c5f6"),{name:"BasedirRowEdit",props:{basedir:{type:Object,required:!0},isDeletable:{type:Boolean,required:!0,default:!0},tabOffset:{type:Number,required:!0}},data:function(){return{id:this.basedir.id,errors:"",isModified:!1,isUpdating:!1,isDeleting:!1,alertShow:!1,alertContent:"content",alertDismissible:!0,alertVariant:"warning"}},components:{},computed:Object(a["a"])({},Object(s["c"])(["basedirBy"]),{ctrlBase:function(){return"gb-"+this.escAttr(this.id)+"-"},isValid:function(){return""===this.errors&&null}}),methods:Object(a["a"])({},Object(s["b"])({doUpdateBasedir:"basedirs/update",doDeleteBasedir:"basedirs/delete"}),{escAttr:function(t){return t.replace(/\//g,"-").replace(/\./g,"-")},showAlert:function(t){"string"===typeof t?this.alertContent=t:(this.alertVariant=t.variant||this.alertVariant,this.alertDismissible=t.dismissible||this.alertDismissible,this.alertContent=t.content||this.alertContent),this.alertShow=!0},touch:function(){var t=this.$refs[this.id+"-basedir"].$el.value;this.isModified=t&&t!==this.basedir.attributes.basedir,this.errors=""},onUpdateBasedir:function(){var t=this,e=this.$refs[this.id+"-basedir"].$el.value;if(this.id&&e){var i={id:this.id,type:"basedirs",attributes:{basedir:e,nickname:this.id}};this.isModified&&(this.isUpdating=!0,this.doUpdateBasedir(i).then(function(e){t.errors="",t.isModified=!1,t.isUpdating=!1}).catch(function(e){t.isUpdating=!1,t.$nextTick(function(){this.errors=e.data.errors[0].title||e.statusText})}))}},onDeleteBasedir:function(){var t=this;this.isDeleting=!0,this.doDeleteBasedir({id:this.id}).then(function(e){t.errors="",t.isModified=!1,t.isDeleting=!1}).catch(function(e){t.errors=e,t.isDeleting=!1})},onCopyToClipboard:function(){console.log("TODO: implement copy to clipboard")},onOpenDirectory:function(){console.log("TODO: call API method to open directory in file manager")}})}),l=d,u=(i("2b2d"),i("2877")),f=Object(u["a"])(l,o,c,!1,null,"38d5d90a",null),b=f.exports,p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-form-row",{class:{"form-row--basedir-add":!0,"is-updating":t.isUpdating}},[i("b-input-group",{class:{"input-group--basedir-edit":!0},attrs:{role:"tabpanel"}},[i("b-form-input",{ref:"create-basedir",staticClass:"basedir",attrs:{type:"text",placeholder:"Input existing directory...",state:t.inputState("add"),tabindex:t.tabOffset},on:{keyup:function(e){return t.touch("add")},change:function(e){return t.touch("add")}}}),i("b-input-group-append",[i("b-button",{staticClass:"btn--add",attrs:{type:"submit.prevent",variant:t.touched["add"]?"outline-info":"outline-secondary",disabled:!t.touched["add"],title:"Add new directory reference",tabindex:t.tabOffset+1},on:{click:function(e){return e.preventDefault(),t.onAddBasedir(e)}}},[i("font-awesome-icon",{attrs:{icon:["fa","plus"]}})],1)],1)],1),i("div",{staticClass:"invalid-feedback d-block"},[t._v(t._s(t.errors["add"]||" "))])],1)},h=[],g={name:"BasedirRowEdit",props:{tabOffset:{type:Number,required:!0}},data:function(){return{isUpdating:!1,errors:{},touched:{},alertShow:!1,alertContent:"content",alertDismissible:!0,alertVariant:"warning"}},components:{},computed:Object(a["a"])({},Object(s["c"])(["basedirBy"]),{ctrlBase:function(){return"gb-"+this.escAttr(this.id)+"-"}}),methods:Object(a["a"])({},Object(s["b"])({createBasedir:"basedirs/create",getDirectory:"getDirectory"}),{escAttr:function(t){return t.replace(/\//g,"-").replace(/\./g,"-")},showAlert:function(t){"string"===typeof t?this.alertContent=t:(this.alertVariant=t.variant||this.alertVariant,this.alertDismissible=t.dismissible||this.alertDismissible,this.alertContent=t.content||this.alertContent),this.alertShow=!0},touch:function(t){this.$set(this.touched,t,!0),this.$delete(this.errors,t)},inputState:function(t){return"undefined"===typeof this.errors[t]?null:"no error"===this.errors[t]},onAddBasedir:function(){var t=this,e=this.$refs["create-basedir"].$el,i=e.value,r={attributes:{basedir:i}};this.getDirectory({dir:i}).then(function(t){return t?t.data:null}).then(function(t){console.log("getDirectory ok",i,t)}).catch(function(t){console.log("getDirectory err",i,t)}),this.createBasedir(r).then(function(i){console.log(i,t),t.$set(t.touched,"add",!0),t.$delete(t.errors,"add"),e.value=""}).catch(function(e){console.log(e,t),t.$set(t.errors,"add",e.data.errors[0].title||e.statusText),t.$delete(t.touched,"add")})}})},v=g,m=(i("d45a"),Object(u["a"])(v,p,h,!1,null,"3fba50fe",null)),y=m.exports,w={name:"Preferences",data:function(){return{isLoading:!0,errors:{},touched:{}}},computed:Object(a["a"])({},Object(s["c"])({basedirs:"basedirs/all"})),methods:Object(a["a"])({},Object(s["b"])({doLoadBasedirs:"basedirs/loadAll"})),components:{BasedirRowEdit:b,BasedirRowAdd:y},mounted:function(){var t=this;this.doLoadBasedirs().then(function(){t.isLoading=!1})}},O=w,D=(i("a04e"),Object(u["a"])(O,r,n,!1,null,"3e7b1ca0",null));e["default"]=D.exports},aa77:function(t,e,i){var r=i("5ca1"),n=i("be13"),a=i("79e5"),s=i("fdef"),o="["+s+"]",c="​",d=RegExp("^"+o+o+"*"),l=RegExp(o+o+"*$"),u=function(t,e,i){var n={},o=a(function(){return!!s[t]()||c[t]()!=c}),d=n[t]=o?e(f):s[t];i&&(n[i]=d),r(r.P+r.F*o,"String",n)},f=u.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(d,"")),2&e&&(t=t.replace(l,"")),t};t.exports=u},c5f6:function(t,e,i){"use strict";var r=i("7726"),n=i("69a8"),a=i("2d95"),s=i("5dbc"),o=i("6a99"),c=i("79e5"),d=i("9093").f,l=i("11e9").f,u=i("86cc").f,f=i("aa77").trim,b="Number",p=r[b],h=p,g=p.prototype,v=a(i("2aeb")(g))==b,m="trim"in String.prototype,y=function(t){var e=o(t,!1);if("string"==typeof e&&e.length>2){e=m?e.trim():f(e,3);var i,r,n,a=e.charCodeAt(0);if(43===a||45===a){if(i=e.charCodeAt(2),88===i||120===i)return NaN}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+e}for(var s,c=e.slice(2),d=0,l=c.length;d<l;d++)if(s=c.charCodeAt(d),s<48||s>n)return NaN;return parseInt(c,r)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof p&&(v?c(function(){g.valueOf.call(i)}):a(i)!=b)?s(new h(y(e)),i,p):y(e)};for(var w,O=i("9e1e")?d(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),D=0;O.length>D;D++)n(h,w=O[D])&&!n(p,w)&&u(p,w,l(h,w));p.prototype=g,g.constructor=p,i("2aba")(r,b,p)}},d45a:function(t,e,i){"use strict";var r=i("d4b3"),n=i.n(r);n.a},d4b3:function(t,e,i){},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=preferences.0210d3fa.js.map