(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["projects","projectstack"],{"014b":function(t,e,r){"use strict";var n=r("e53d"),o=r("07e3"),a=r("8e60"),c=r("63b6"),s=r("9138"),i=r("ebfd").KEY,u=r("294c"),l=r("dbdb"),f=r("45f2"),b=r("62a0"),p=r("5168"),d=r("ccb9"),m=r("6718"),h=r("47ee"),v=r("9003"),j=r("e4ae"),g=r("f772"),k=r("36c3"),y=r("1bc3"),_=r("aebd"),S=r("a159"),O=r("0395"),P=r("bf0b"),w=r("d9f6"),x=r("c3a1"),N=P.f,D=w.f,E=O.f,$=n.Symbol,A=n.JSON,I=A&&A.stringify,H="prototype",F=p("_hidden"),q=p("toPrimitive"),C={}.propertyIsEnumerable,G=l("symbol-registry"),R=l("symbols"),T=l("op-symbols"),J=Object[H],U="function"==typeof $,z=n.QObject,B=!z||!z[H]||!z[H].findChild,K=a&&u(function(){return 7!=S(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(t,e,r){var n=N(J,e);n&&delete J[e],D(t,e,r),n&&t!==J&&D(J,e,n)}:D,W=function(t){var e=R[t]=S($[H]);return e._k=t,e},M=U&&"symbol"==typeof $.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof $},V=function(t,e,r){return t===J&&V(T,e,r),j(t),e=y(e,!0),j(r),o(R,e)?(r.enumerable?(o(t,F)&&t[F][e]&&(t[F][e]=!1),r=S(r,{enumerable:_(0,!1)})):(o(t,F)||D(t,F,_(1,{})),t[F][e]=!0),K(t,e,r)):D(t,e,r)},Y=function(t,e){j(t);var r,n=h(e=k(e)),o=0,a=n.length;while(a>o)V(t,r=n[o++],e[r]);return t},L=function(t,e){return void 0===e?S(t):Y(S(t),e)},Q=function(t){var e=C.call(this,t=y(t,!0));return!(this===J&&o(R,t)&&!o(T,t))&&(!(e||!o(this,t)||!o(R,t)||o(this,F)&&this[F][t])||e)},X=function(t,e){if(t=k(t),e=y(e,!0),t!==J||!o(R,e)||o(T,e)){var r=N(t,e);return!r||!o(R,e)||o(t,F)&&t[F][e]||(r.enumerable=!0),r}},Z=function(t){var e,r=E(k(t)),n=[],a=0;while(r.length>a)o(R,e=r[a++])||e==F||e==i||n.push(e);return n},tt=function(t){var e,r=t===J,n=E(r?T:k(t)),a=[],c=0;while(n.length>c)!o(R,e=n[c++])||r&&!o(J,e)||a.push(R[e]);return a};U||($=function(){if(this instanceof $)throw TypeError("Symbol is not a constructor!");var t=b(arguments.length>0?arguments[0]:void 0),e=function(r){this===J&&e.call(T,r),o(this,F)&&o(this[F],t)&&(this[F][t]=!1),K(this,t,_(1,r))};return a&&B&&K(J,t,{configurable:!0,set:e}),W(t)},s($[H],"toString",function(){return this._k}),P.f=X,w.f=V,r("6abf").f=O.f=Z,r("355d").f=Q,r("9aa9").f=tt,a&&!r("b8e3")&&s(J,"propertyIsEnumerable",Q,!0),d.f=function(t){return W(p(t))}),c(c.G+c.W+c.F*!U,{Symbol:$});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;et.length>rt;)p(et[rt++]);for(var nt=x(p.store),ot=0;nt.length>ot;)m(nt[ot++]);c(c.S+c.F*!U,"Symbol",{for:function(t){return o(G,t+="")?G[t]:G[t]=$(t)},keyFor:function(t){if(!M(t))throw TypeError(t+" is not a symbol!");for(var e in G)if(G[e]===t)return e},useSetter:function(){B=!0},useSimple:function(){B=!1}}),c(c.S+c.F*!U,"Object",{create:L,defineProperty:V,defineProperties:Y,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),A&&c(c.S+c.F*(!U||u(function(){var t=$();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){var e,r,n=[t],o=1;while(arguments.length>o)n.push(arguments[o++]);if(r=e=n[1],(g(e)||void 0!==t)&&!M(t))return v(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!M(e))return e}),n[1]=e,I.apply(A,n)}}),$[H][q]||r("35e8")($[H],q,$[H].valueOf),f($,"Symbol"),f(Math,"Math",!0),f(n.JSON,"JSON",!0)},"0395":function(t,e,r){var n=r("36c3"),o=r("6abf").f,a={}.toString,c="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return o(t)}catch(e){return c.slice()}};t.exports.f=function(t){return c&&"[object Window]"==a.call(t)?s(t):o(n(t))}},"268f":function(t,e,r){t.exports=r("fde4")},"2d1f":function(t,e,r){t.exports=r("b606")},"32a6":function(t,e,r){var n=r("241e"),o=r("c3a1");r("ce7e")("keys",function(){return function(t){return o(n(t))}})},3983:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"project-stack",attrs:{role:"tablist"}},[t._l(t.groupProjectStacks(t.projectStack),function(e,n,o){return r("b-card",{key:n,staticClass:"mb-1",attrs:{"no-body":""}},[r("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[r("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:t.project_base+"_accordion_"+o,expression:"project_base + '_accordion_' + index"}],attrs:{block:"",href:"#",variant:"info"}},[r("project-stack-header",{attrs:{projectHostname:t.projectHostname,stackName:n,stackRoles:e}})],1)],1),r("b-collapse",{attrs:{id:t.project_base+"_accordion_"+o,accordion:t.project_base+"_accordion",role:"tabpanel"}},[r("b-card-body",[r("b-form",t._l(t.stackServices(n),function(o,a){return r("b-form-group",{key:t.project_base+t.escAttr(a),attrs:{label:t.stackRoles(n)[a].label,"label-for":t.project_base+t.escAttr(a)+"_input",description:t.stackRoles(n)[a].name,"label-cols-sm":"4","label-cols-lg":"3"}},[r("b-form-select",{attrs:{id:t.project_base+t.escAttr(a)+"_input",value:e[a]?e[a].service_id:null}},[r("option",{attrs:{disabled:"",value:""}},[t._v("Please select one...")]),t._l(t.optionGroups(o.options),function(e,n){return r("optgroup",{key:n,attrs:{label:n}},t._l(e,function(e){return r("option",{key:e,domProps:{value:o.org+"/"+e}},[t._v(t._s(e))])}),0)})],2)],1)}),1)],1)],1)],1)}),t.hasUnusedStacks?r("b-form-select",{staticClass:"add-stack",on:{change:t.addProjectStack},model:{value:t.stackToAdd,callback:function(e){t.stackToAdd=e},expression:"stackToAdd"}},[r("option",{domProps:{value:null}},[t._v("Add Stack...")]),t._l(t.stacksNotUnusedInProject,function(e,n){return r("option",{key:n,domProps:{value:n}},[t._v(t._s(n.replace("gearbox.works/","")))])})],2):t._e()],2)},o=[],a=(r("28a5"),r("a481"),r("2d1f")),c=r.n(a),s=r("cebc"),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"project-stack-header"},[r("button",{staticClass:"js-remove-stack",attrs:{"aria-label":"Remove this stack from project",title:"Remove this stack from project"},on:{click:function(e){return e.preventDefault(),t.removeProjectStack(e)}}},[t._v("Ã—")]),r("strong",[t._v(t._s(t.stackName.replace("gearbox.works/","")))]),t._v(" (\n  "),t._l(t.stackRoles,function(e,n,o){return r("span",{key:n,attrs:{title:n.replace(e.stack+"/","")}},[o?r("span",[t._v(",")]):t._e(),t._v(" "+t._s(e.program)+" "),r("small",[t._v(t._s(t.serviceVersion(e.version)))])])}),t._v("\n  )\n")],2)},u=[],l={name:"ProjectStackHeader",props:{projectHostname:{type:String,required:!0},stackName:{type:String,required:!0},stackRoles:{type:Object,required:!0}},methods:{serviceVersion:function(t){var e="";return t.major&&(e+=t.major,t.minor&&(e+="."+t.minor,t.patch&&(e+="."+t.patch))),e},removeProjectStack:function(){this.$store.dispatch("removeProjectStack",{projectHostname:this.projectHostname,stackName:this.stackName})}}},f=l,b=(r("d86d"),r("2877")),p=Object(b["a"])(f,i,u,!1,null,"262d2258",null),d=p.exports,m=r("2f62"),h={name:"ProjectStack",props:{projectHostname:{type:String,required:!0},projectStack:{type:Object,required:!0}},data:function(){return{stackToAdd:null}},components:{ProjectStackHeader:d},computed:Object(s["a"])({},Object(m["b"])(["groupProjectStacks","stackRoles","stackServices"]),{project_base:function(){return this.escAttr(this.projectHostname)},project:function(){return this.$store.getters.projectBy("hostname",this.projectHostname)},hasUnusedStacks:function(){return c()(this.stacksNotUnusedInProject).length>0},stacksNotUnusedInProject:function(){var t={},e=this.groupProjectStacks(this.projectStack);for(var r in this.$store.state.gearStacks){var n=this.$store.state.gearStacks[r];"undefined"===typeof e[n]&&(t[n]=this.$store.state.gearStacks[n])}return t}}),methods:{escAttr:function(t){return t.replace(/\//g,"_").replace(/\./g,"_")},stackIncludesService:function(t,e){var r=!1;for(var n in t)if(e===t[n].service_id){r=!0;break}return r&&console.log("found",e),r},mapOptions:function(t){var e=[];for(var r in t)e.push({value:r,text:t[r]});return e},optionGroups:function(t){var e={};for(var r in t){var n=t[r].split(":")[0];"undefined"===typeof e[n]&&(e[n]={}),e[n][r]=t[r]}return e},addProjectStack:function(t){console.log("Selected",this.stackToAdd,t),this.$store.dispatch("addProjectStack",{projectHostname:this.projectHostname,stackName:t}),this.stackToAdd=null}}},v=h,j=(r("eb37"),Object(b["a"])(v,n,o,!1,null,"a3981202",null));e["default"]=j.exports},"454f":function(t,e,r){r("46a7");var n=r("584a").Object;t.exports=function(t,e,r){return n.defineProperty(t,e,r)}},"46a7":function(t,e,r){var n=r("63b6");n(n.S+n.F*!r("8e60"),"Object",{defineProperty:r("d9f6").f})},"47ee":function(t,e,r){var n=r("c3a1"),o=r("9aa9"),a=r("355d");t.exports=function(t){var e=n(t),r=o.f;if(r){var c,s=r(t),i=a.f,u=0;while(s.length>u)i.call(t,c=s[u++])&&e.push(c)}return e}},"5c29":function(t,e,r){},6718:function(t,e,r){var n=r("e53d"),o=r("584a"),a=r("b8e3"),c=r("ccb9"),s=r("d9f6").f;t.exports=function(t){var e=o.Symbol||(o.Symbol=a?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:c.f(t)})}},"6abf":function(t,e,r){var n=r("e6f3"),o=r("1691").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},"7ecf":function(t,e,r){"use strict";var n=r("5c29"),o=r.n(n);o.a},"85f2":function(t,e,r){t.exports=r("454f")},"8aae":function(t,e,r){r("32a6"),t.exports=r("584a").Object.keys},"9aa9":function(t,e){e.f=Object.getOwnPropertySymbols},"9c60":function(t,e,r){var n=r("63b6"),o=r("13c8")(!0);n(n.S,"Object",{entries:function(t){return o(t)}})},a4bb:function(t,e,r){t.exports=r("8aae")},a779:function(t,e,r){},acca:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",[r("b-card-group",{attrs:{deck:""}},t._l(t.projects,function(t){return r("b-card",{key:t.path,attrs:{to:{path:"/project/"+t.hostname}}},[r("project-details",{attrs:{storedProject:t}}),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("project-stack",{attrs:{projectHostname:t.hostname,projectStack:t.stack}})],1)],1)}),1)],1)},o=[],a=r("cebc"),c=r("2f62"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-form",[r("b-form-group",{attrs:{id:"hostnameGroup",label:"Hostname:","label-for":"hostnameInput",description:"","label-cols-sm":"4","label-cols-lg":"3"}},[r("b-form-input",{attrs:{id:"hostnameInput",type:"text",size:"lg",required:"",placeholder:""},on:{change:t.maybeSubmit},model:{value:t.hostname,callback:function(e){t.hostname=e},expression:"hostname"}})],1),r("b-form-group",{attrs:{id:"enabledGroup",label:"Status:","label-for":"enabledInput",description:"","label-cols-sm":"4","label-cols-lg":"3"}},[r("b-form-radio",{attrs:{value:"true",name:"enabledInput"},on:{change:t.maybeSubmit},model:{value:t.enabled,callback:function(e){t.enabled=e},expression:"enabled"}},[t._v("Running")]),r("b-form-radio",{attrs:{value:"false",name:"enabledInput"},on:{change:t.maybeSubmit},model:{value:t.enabled,callback:function(e){t.enabled=e},expression:"enabled"}},[t._v("Stopped")])],1),r("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:t.project_base+"_advanced",expression:"project_base + '_advanced'"}],attrs:{role:"tab",size:"sm","outline-secondary":""}},[t._v("Advanced...")]),r("b-collapse",{attrs:{id:t.project_base+"_advanced",role:"tabpanel"}},[r("b-form-group",{attrs:{id:"basedirGroup1",label:"Base Dir:","label-for":"basedirInput",description:"","label-cols-sm":"4","label-cols-lg":"3"}},[r("b-form-select",{staticClass:"mt-3",attrs:{required:"",options:this.$store.getters.baseDirsAsOptions},on:{change:t.maybeSubmit},model:{value:t.baseDir,callback:function(e){t.baseDir=e},expression:"baseDir"}})],1),r("b-form-group",{attrs:{id:"pathGroup",label:"Path:","label-for":"dirNameInput",description:"Full path: "+t.resolvePath(t.baseDir,t.path),"label-cols-sm":"4","label-cols-lg":"3"}},[r("b-form-input",{attrs:{id:"dirNameInput",type:"text",required:"",placeholder:""},on:{change:t.maybeSubmit},model:{value:t.path,callback:function(e){t.path=e},expression:"path"}})],1),r("b-form-group",{attrs:{id:"notesGroup",label:"Notes:","label-for":"notesInput",description:"","label-cols-sm":"4","label-cols-lg":"3"}},[r("b-form-textarea",{attrs:{id:"textarea",placeholder:"Enter something...",rows:"3","max-rows":"6"},on:{change:t.maybeSubmit},model:{value:t.notes,callback:function(e){t.notes=e},expression:"notes"}})],1)],1)],1)],1)},i=[],u=(r("a481"),{name:"ProjectDetails",props:{storedProject:{type:Object,required:!0}},data:function(){return Object(a["a"])({},this.storedProject)},computed:{project_base:function(){return this.escAttr(this.hostname)}},methods:{escAttr:function(t){return t.replace(/\//g,"_").replace(/\./g,"_")},resolvePath:function(t,e){return"undefined"!==typeof this.$store.state.baseDirs[t]?this.$store.state.baseDirs[t].text+"/"+e:""},maybeSubmit:function(t){this.$store.dispatch("updateProject",{hostname:this.storedProject.hostname,project:this.$data}).then(function(){})}}}),l=u,f=r("2877"),b=Object(f["a"])(l,s,i,!1,null,"f9fb54e0",null),p=b.exports,d=r("3983"),m={name:"ProjectList",components:{ProjectDetails:p,ProjectStack:d["default"]},computed:Object(a["a"])({},Object(c["c"])(["projects","baseDirs"])),mounted:function(){this.$store.dispatch("loadProjectHeaders"),this.$store.dispatch("loadBaseDirs"),this.$store.dispatch("loadGears")}},h=m,v=(r("7ecf"),Object(f["a"])(h,n,o,!1,null,"16421f9f",null));e["default"]=v.exports},b4b5:function(t,e,r){},b606:function(t,e,r){r("9c60"),t.exports=r("584a").Object.entries},bf0b:function(t,e,r){var n=r("355d"),o=r("aebd"),a=r("36c3"),c=r("1bc3"),s=r("07e3"),i=r("794b"),u=Object.getOwnPropertyDescriptor;e.f=r("8e60")?u:function(t,e){if(t=a(t),e=c(e,!0),i)try{return u(t,e)}catch(r){}if(s(t,e))return o(!n.f.call(t,e),t[e])}},bf90:function(t,e,r){var n=r("36c3"),o=r("bf0b").f;r("ce7e")("getOwnPropertyDescriptor",function(){return function(t,e){return o(n(t),e)}})},ccb9:function(t,e,r){e.f=r("5168")},ce7e:function(t,e,r){var n=r("63b6"),o=r("584a"),a=r("294c");t.exports=function(t,e){var r=(o.Object||{})[t]||Object[t],c={};c[t]=e(r),n(n.S+n.F*a(function(){r(1)}),"Object",c)}},cebc:function(t,e,r){"use strict";var n=r("268f"),o=r.n(n),a=r("e265"),c=r.n(a),s=r("a4bb"),i=r.n(s),u=r("85f2"),l=r.n(u);function f(t,e,r){return e in t?l()(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=i()(r);"function"===typeof c.a&&(n=n.concat(c()(r).filter(function(t){return o()(r,t).enumerable}))),n.forEach(function(e){f(t,e,r[e])})}return t}r.d(e,"a",function(){return b})},d86d:function(t,e,r){"use strict";var n=r("a779"),o=r.n(n);o.a},e265:function(t,e,r){t.exports=r("ed33")},eb37:function(t,e,r){"use strict";var n=r("b4b5"),o=r.n(n);o.a},ebfd:function(t,e,r){var n=r("62a0")("meta"),o=r("f772"),a=r("07e3"),c=r("d9f6").f,s=0,i=Object.isExtensible||function(){return!0},u=!r("294c")(function(){return i(Object.preventExtensions({}))}),l=function(t){c(t,n,{value:{i:"O"+ ++s,w:{}}})},f=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,n)){if(!i(t))return"F";if(!e)return"E";l(t)}return t[n].i},b=function(t,e){if(!a(t,n)){if(!i(t))return!0;if(!e)return!1;l(t)}return t[n].w},p=function(t){return u&&d.NEED&&i(t)&&!a(t,n)&&l(t),t},d=t.exports={KEY:n,NEED:!1,fastKey:f,getWeak:b,onFreeze:p}},ed33:function(t,e,r){r("014b"),t.exports=r("584a").Object.getOwnPropertySymbols},fde4:function(t,e,r){r("bf90");var n=r("584a").Object;t.exports=function(t,e){return n.getOwnPropertyDescriptor(t,e)}}}]);
//# sourceMappingURL=projects.b1dbc330.js.map