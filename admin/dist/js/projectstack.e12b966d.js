(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["projectstack"],{"0203":function(e,t,r){},"055b":function(e,t,r){e.exports=r.p+"img/python.51c2eab2.svg"},"090e":function(e,t,r){e.exports=r.p+"img/nodejs.94cafb0d.svg"},"11e9":function(e,t,r){var i=r("52a7"),a=r("4630"),s=r("6821"),n=r("6a99"),c=r("69a8"),o=r("c69a"),u=Object.getOwnPropertyDescriptor;t.f=r("9e1e")?u:function(e,t){if(e=s(e),t=n(t,!0),o)try{return u(e,t)}catch(r){}if(c(e,t))return a(!i.f.call(e,t),e[t])}},1540:function(e,t,r){e.exports=r.p+"img/php.fa78b345.svg"},"1b4d":function(e,t,r){e.exports=r.p+"img/flask.318d58cb.svg"},"319f":function(e,t,r){e.exports=r.p+"img/rails.2db29782.svg"},"31e8":function(e,t,r){var i={"./angular.svg":"a230","./apache.svg":"b77f","./codeigniter.svg":"7939","./django.svg":"c6da","./drupal.svg":"a88c","./elasticsearch.svg":"81bb","./flask.svg":"1b4d","./joomla.svg":"5390","./laravel.svg":"41c8","./logo.svg":"9b19","./mariadb.svg":"613e","./memcached.svg":"a0ba","./mysql.svg":"6c4c","./nginx.svg":"c502","./nodejs.svg":"090e","./perl.svg":"c44f","./php.svg":"1540","./python.svg":"055b","./rails.svg":"319f","./react.svg":"b2e9","./redis.svg":"8bcb","./ruby.svg":"9401","./wordpress.svg":"ee3c"};function a(e){var t=s(e);return r(t)}function s(e){var t=i[e];if(!(t+1)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return t}a.keys=function(){return Object.keys(i)},a.resolve=s,e.exports=a,a.id="31e8"},3212:function(e,t,r){"use strict";var i=r("ad55"),a=r.n(i);a.a},3983:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"project-stack-list",attrs:{role:"tablist",id:e.projectBase+"stack"}},e._l(e.groupedStackItems(e.projectStackItems),function(t,i,a){return r("div",{key:i,staticClass:"project-stack"},[r("h2",{staticClass:"stack-title"},[e._v(e._s(i.replace("gearbox.works/","")))]),r("b-button",{staticClass:"js-remove-stack",attrs:{tabindex:100*e.projectIndex+10*a,size:"sm",variant:"outline-secondary","aria-label":"Remove these services",title:"Remove these services"},on:{click:function(t){return t.preventDefault(),e.removeProjectStack(i)}}},[e._v("×")]),r("ul",{staticClass:"service-list"},e._l(t,function(t,i){return r("li",{key:e.id+t.gear.attributes.role,staticClass:"service-item"},[r("project-gear",{attrs:{projectId:e.project.id,stackItem:t,projectIndex:e.projectIndex,stackIndex:a,itemIndex:i}})],1)}),0)],1)}),0)},a=[],s=(r("ac6a"),r("a481"),r("cebc")),n=(r("c5f6"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"project-gear",attrs:{id:e.gearControlId,tabindex:100*e.projectIndex+10*e.stackIndex+e.itemIndex+1}},[e.service?i("img",{class:{"service-program":!0,"is-loaded":e.isLoaded,"is-switching":e.isSwitching,"is-switching-same":e.isSwitchingSame,"is-switching-same-again":e.isSwitchingSameAgain},attrs:{src:r("31e8")("./"+e.service.attributes.program+".svg")},on:{load:e.onImageLoaded}}):i("font-awesome-icon",{attrs:{icon:["fa","expand"]}}),i("h6",{staticClass:"gear-role"},[e._v(e._s(e.gear.attributes.role))]),i("b-tooltip",{key:e.gearControlId+"-"+(e.service?e.service.id:"unselected"),attrs:{triggers:"hover",target:e.gearControlId,title:e.programTooltip}}),i("b-popover",{ref:e.gearControlId+"-popover",attrs:{target:e.gearControlId,container:e.projectBase+"stack",triggers:"focus",placement:"bottom"}},[i("template",{slot:"title"},[i("b-button",{staticClass:"close",attrs:{"aria-label":"Close"},on:{click:e.closePopover}},[i("span",{staticClass:"d-inline-block",attrs:{"aria-hidden":"true"}},[e._v("×")])]),e._v("\n      Change service\n    ")],1),i("div",[i("label",{attrs:{for:e.gearControlId+"-input"}},[e._v(e._s(e.gear.attributes.role)+":")]),i("b-form-select",{attrs:{id:e.gearControlId+"-input",value:e.service?e.service.id:"",tabindex:100*e.projectIndex+10*e.stackIndex+e.itemIndex+9},on:{change:function(t){return e.onChangeService(t)}}},[e.defaultService?e._e():i("option",{attrs:{value:""}},[e._v("Do not run this service")]),i("option",{attrs:{disabled:"",value:""}},[e._v("Select service...")]),e._l(e.groupedGearServices,function(t,r){return i("optgroup",{key:r,attrs:{label:r}},e._l(t,function(t){return i("option",{key:t,domProps:{value:t}},[e._v(e._s(t.replace("gearboxworks/","")))])}),0)})],2)],1)],2)],1)}),c=[],o=(r("28a5"),r("2f62")),u={name:"ProjectGear",props:{projectId:{type:String,required:!0},stackItem:{type:Object,required:!0},projectIndex:{type:Number,required:!0},stackIndex:{type:Number,required:!0},itemIndex:{type:Number,required:!0}},data:function(){return{isLoaded:!1,isSwitching:!0,isSwitchingSame:!1,isSwitchingSameAgain:!1}},computed:Object(s["a"])({},Object(o["b"])(["gearBy","stackBy","stackDefaultServiceByGear","stackServicesByGear"]),{projectBase:function(){return this.escAttr(this.projectId)+"-"},gear:function(){return this.stackItem.gear},service:function(){return this.stackItem.service},stack:function(){return this.stackBy("id",this.gear.attributes.stack_id)},gearControlId:function(){return this.projectBase+(this.stack?this.stack.attributes.stackname+"-":"")+this.gear.attributes.role},defaultService:function(){return this.stackDefaultServiceByGear(this.stack,this.gear.id)},groupedGearServices:function(){var e=this.stackServicesByGear(this.stack,this.gear.id),t={};for(var r in e){var i=e[r].split(":")[0].replace("gearboxworks/","");"undefined"===typeof t[i]&&(t[i]={}),t[i][r]=e[r]}return t},programTooltip:function(){var e=this.service?this.service.attributes:null;return e?e.program+" "+e.version:"Service not selected"}}),methods:{escAttr:function(e){return e.replace(/\//g,"-").replace(/\./g,"-")},onChangeService:function(e){var t=this.service?this.service.id:"",r=t?t.split("/")[1].split(":")[0]:"",i=e?e.split("/")[1].split(":")[0]:"";r!==i?(this.isLoaded=!1,this.isSwitching=!0,this.isSwitchingSame=!1,this.isSwitchingSameAgain=!1):t!==e&&(this.isSwitchingSame||this.isSwitchingSameAgain?(this.isSwitchingSame=!this.isSwitchingSame,this.isSwitchingSameAgain=!this.isSwitchingSameAgain):(this.isSwitchingSame=!0,this.isSwitchingSameAgain=!1)),this.$store.dispatch("changeProjectService",{projectId:this.projectId,gearId:this.gear.id,serviceId:e}),this.closePopover()},closePopover:function(){this.$root.$emit("bv::hide::popover",this.gearControlId)},onImageLoaded:function(e){this.isSwitching=!1,this.isLoaded=!0}}},p=u,g=(r("764c"),r("2877")),d=Object(g["a"])(p,n,c,!1,null,"d6b83714",null),f=d.exports,l={name:"ProjectStack",props:{project:{type:Object,required:!0},projectIndex:{type:Number,required:!0}},data:function(){return{id:this.project.id,projectStackItems:this.project.attributes.stack}},components:{ProjectGear:f},computed:Object(s["a"])({},Object(o["b"])(["serviceBy","gearBy"]),{projectBase:function(){return this.escAttr(this.id)+"-"}}),methods:{escAttr:function(e){return e.replace(/\//g,"-").replace(/\./g,"-")},groupedStackItems:function(e){var t=this,r={};return e.forEach(function(e){var i=t.gearBy("id",e.gearspec_id);if(i){"undefined"===typeof r[i.attributes.stack_id]&&(r[i.attributes.stack_id]=[]);var a=e.service_id?t.serviceBy("id",e.service_id):null;r[i.attributes.stack_id].push({gear:i,service:a})}}),r},removeProjectStack:function(e){this.$store.dispatch("removeProjectStack",{projectId:this.id,stackId:e})}}},v=l,h=(r("3212"),Object(g["a"])(v,i,a,!1,null,"2956c29c",null));t["default"]=h.exports},"41c8":function(e,t,r){e.exports=r.p+"img/laravel.1766a461.svg"},5390:function(e,t,r){e.exports=r.p+"img/joomla.d8aa2e45.svg"},"5dbc":function(e,t,r){var i=r("d3f4"),a=r("8b97").set;e.exports=function(e,t,r){var s,n=t.constructor;return n!==r&&"function"==typeof n&&(s=n.prototype)!==r.prototype&&i(s)&&a&&a(e,s),e}},"613e":function(e,t,r){e.exports=r.p+"img/mariadb.e16110bc.svg"},"6c4c":function(e,t,r){e.exports=r.p+"img/mysql.dd2a5a35.svg"},"764c":function(e,t,r){"use strict";var i=r("0203"),a=r.n(i);a.a},7939:function(e,t,r){e.exports=r.p+"img/codeigniter.434bf735.svg"},"81bb":function(e,t,r){e.exports=r.p+"img/elasticsearch.3ecfa530.svg"},"8b97":function(e,t,r){var i=r("d3f4"),a=r("cb7c"),s=function(e,t){if(a(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{i=r("9b43")(Function.call,r("11e9").f(Object.prototype,"__proto__").set,2),i(e,[]),t=!(e instanceof Array)}catch(a){t=!0}return function(e,r){return s(e,r),t?e.__proto__=r:i(e,r),e}}({},!1):void 0),check:s}},"8bcb":function(e,t,r){e.exports=r.p+"img/redis.3c39fafe.svg"},9093:function(e,t,r){var i=r("ce10"),a=r("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,a)}},9401:function(e,t,r){e.exports=r.p+"img/ruby.514befa7.svg"},"9b19":function(e,t,r){e.exports=r.p+"img/logo.63a7d78d.svg"},a0ba:function(e,t,r){e.exports=r.p+"img/memcached.2bcccabf.svg"},a230:function(e,t,r){e.exports=r.p+"img/angular.e224f5ed.svg"},a481:function(e,t,r){"use strict";var i=r("cb7c"),a=r("4bf8"),s=r("9def"),n=r("4588"),c=r("0390"),o=r("5f1b"),u=Math.max,p=Math.min,g=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g,l=function(e){return void 0===e?e:String(e)};r("214f")("replace",2,function(e,t,r,v){return[function(i,a){var s=e(this),n=void 0==i?void 0:i[t];return void 0!==n?n.call(i,s,a):r.call(String(s),i,a)},function(e,t){var a=v(r,e,this,t);if(a.done)return a.value;var g=i(e),d=String(this),f="function"===typeof t;f||(t=String(t));var b=g.global;if(b){var m=g.unicode;g.lastIndex=0}var S=[];while(1){var I=o(g,d);if(null===I)break;if(S.push(I),!b)break;var k=String(I[0]);""===k&&(g.lastIndex=c(d,s(g.lastIndex),m))}for(var x="",j=0,y=0;y<S.length;y++){I=S[y];for(var _=String(I[0]),w=u(p(n(I.index),d.length),0),C=[],A=1;A<I.length;A++)C.push(l(I[A]));var N=I.groups;if(f){var O=[_].concat(C,w,d);void 0!==N&&O.push(N);var E=String(t.apply(void 0,O))}else E=h(_,d,w,C,N,t);w>=j&&(x+=d.slice(j,w)+E,j=w+_.length)}return x+d.slice(j)}];function h(e,t,i,s,n,c){var o=i+e.length,u=s.length,p=f;return void 0!==n&&(n=a(n),p=d),r.call(c,p,function(r,a){var c;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,i);case"'":return t.slice(o);case"<":c=n[a.slice(1,-1)];break;default:var p=+a;if(0===p)return r;if(p>u){var d=g(p/10);return 0===d?r:d<=u?void 0===s[d-1]?a.charAt(1):s[d-1]+a.charAt(1):r}c=s[p-1]}return void 0===c?"":c})}})},a88c:function(e,t,r){e.exports=r.p+"img/drupal.66089b06.svg"},aa77:function(e,t,r){var i=r("5ca1"),a=r("be13"),s=r("79e5"),n=r("fdef"),c="["+n+"]",o="​",u=RegExp("^"+c+c+"*"),p=RegExp(c+c+"*$"),g=function(e,t,r){var a={},c=s(function(){return!!n[e]()||o[e]()!=o}),u=a[e]=c?t(d):n[e];r&&(a[r]=u),i(i.P+i.F*c,"String",a)},d=g.trim=function(e,t){return e=String(a(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(p,"")),e};e.exports=g},ad55:function(e,t,r){},b2e9:function(e,t,r){e.exports=r.p+"img/react.9a28da9f.svg"},b77f:function(e,t,r){e.exports=r.p+"img/apache.12c49354.svg"},c44f:function(e,t,r){e.exports=r.p+"img/perl.a025edb4.svg"},c502:function(e,t,r){e.exports=r.p+"img/nginx.eae76401.svg"},c5f6:function(e,t,r){"use strict";var i=r("7726"),a=r("69a8"),s=r("2d95"),n=r("5dbc"),c=r("6a99"),o=r("79e5"),u=r("9093").f,p=r("11e9").f,g=r("86cc").f,d=r("aa77").trim,f="Number",l=i[f],v=l,h=l.prototype,b=s(r("2aeb")(h))==f,m="trim"in String.prototype,S=function(e){var t=c(e,!1);if("string"==typeof t&&t.length>2){t=m?t.trim():d(t,3);var r,i,a,s=t.charCodeAt(0);if(43===s||45===s){if(r=t.charCodeAt(2),88===r||120===r)return NaN}else if(48===s){switch(t.charCodeAt(1)){case 66:case 98:i=2,a=49;break;case 79:case 111:i=8,a=55;break;default:return+t}for(var n,o=t.slice(2),u=0,p=o.length;u<p;u++)if(n=o.charCodeAt(u),n<48||n>a)return NaN;return parseInt(o,i)}}return+t};if(!l(" 0o1")||!l("0b1")||l("+0x1")){l=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof l&&(b?o(function(){h.valueOf.call(r)}):s(r)!=f)?n(new v(S(t)),r,l):S(t)};for(var I,k=r("9e1e")?u(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;k.length>x;x++)a(v,I=k[x])&&!a(l,I)&&g(l,I,p(v,I));l.prototype=h,h.constructor=l,r("2aba")(i,f,l)}},c6da:function(e,t,r){e.exports=r.p+"img/django.28fe09a0.svg"},ee3c:function(e,t,r){e.exports=r.p+"img/wordpress.b08e20e3.svg"},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=projectstack.e12b966d.js.map