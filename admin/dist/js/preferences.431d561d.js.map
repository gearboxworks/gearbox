{"version":3,"sources":["webpack:///./src/views/Preferences.vue?9a8e","webpack:///./src/views/Preferences.vue?98d4","webpack:///src/views/Preferences.vue","webpack:///./src/views/Preferences.vue?979d","webpack:///./src/views/Preferences.vue?1586"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Preferences_vue_vue_type_style_index_0_id_6d580843_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Preferences_vue_vue_type_style_index_0_id_6d580843_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","_v","_l","basedirs","basedir","key","id","ref","refInFor","staticClass","attrs","value","attributes","type","required","placeholder","variant","title","on","click","$event","preventDefault","updateBasedir","icon","defaultBasedir","disabled","deleteBasedir","addBasedir","records","length","change","onChangeBasedir","domProps","_s","readonly","staticRenderFns","Preferencesvue_type_script_lang_js_","name","data","baseDirName","baseDirPath","computed","Object","objectSpread","vuex_esm","basedirBy","mounted","$store","dispatch","methods","_this","recordData","$refs","then","getters","console","log","basedirId","res","views_Preferencesvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/preferences.431d561d.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preferences.vue?vue&type=style&index=0&id=6d580843&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preferences.vue?vue&type=style&index=0&id=6d580843&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-form',[_c('b-container',[_c('h1',[_vm._v(\"Preferences\")]),_c('hr'),_c('h2',[_vm._v(\"Project Directories\")]),_c('h4',[_vm._v(\"Known directories:\")]),_vm._l((_vm.basedirs.records),function(basedir){return _c('b-form-row',{key:basedir.id},[_c('b-form-input',{ref:((basedir.id) + \"-basedir\"),refInFor:true,staticClass:\"basedir\",attrs:{\"id\":((basedir.id) + \"-basedir\"),\"value\":basedir.attributes.basedir,\"type\":\"text\",\"required\":\"\",\"placeholder\":\"Path\"}}),_c('b-button',{staticClass:\"btn--update\",attrs:{\"type\":\"submit.prevent\",\"variant\":\"success\",\"title\":\"Update directory reference\"},on:{\"click\":function($event){$event.preventDefault();return _vm.updateBasedir(basedir.id)}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fa', 'check-circle']}})],1),_c('b-button',{staticClass:\"btn--delete\",attrs:{\"type\":\"submit.prevent\",\"variant\":basedir.id === _vm.defaultBasedir.id ? 'secondary':'warning',\"disabled\":basedir.id === _vm.defaultBasedir.id,\"title\":basedir.id === _vm.defaultBasedir.id ? 'Cannot delete reference to the default directory' : 'Delete reference to this directory'},on:{\"click\":function($event){$event.preventDefault();return _vm.deleteBasedir(basedir.id)}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fa', 'trash-alt']}})],1)],1)}),_c('b-form-row',[_c('b-form-input',{ref:\"new-basedir\",staticClass:\"basedir\",attrs:{\"type\":\"text\",\"placeholder\":\"Input existing directory...\"}}),_c('b-button',{staticClass:\"btn--add\",attrs:{\"type\":\"submit.prevent\",\"variant\":\"success\",\"title\":\"Add new directory reference\"},on:{\"click\":function($event){$event.preventDefault();return _vm.addBasedir($event)}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fa', 'plus-circle']}})],1),_c('button',{staticClass:\"btn btn--delete is-invisible\"})],1),_c('hr'),_c('h4',[_vm._v(\"Default directory:\")]),(_vm.basedirs.records.length>1)?_c('b-form-select',{attrs:{\"id\":\"default-basedir-input\",\"value\":\"default\"},on:{\"change\":function($event){return _vm.onChangeBasedir($event)}}},[_c('option',{attrs:{\"disabled\":\"\",\"value\":\"\"}},[_vm._v(\"Select directory...\")]),_vm._l((_vm.basedirs.records),function(basedir){return _c('option',{key:basedir.id,domProps:{\"value\":basedir.id}},[_vm._v(_vm._s(basedir.attributes.basedir))])})],2):_c('b-form-input',{attrs:{\"readonly\":true,\"value\":_vm.defaultBasedir ? _vm.defaultBasedir.attributes.basedir : ''}})],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <b-form>\n      <b-container>\n        <h1>Preferences</h1>\n        <hr>\n        <h2>Project Directories</h2>\n        <h4>Known directories:</h4>\n          <b-form-row\n            v-for=\"basedir in basedirs.records\"\n            :key=\"basedir.id\"\n          >\n\n            <b-form-input\n              :id=\"`${basedir.id}-basedir`\"\n              :ref=\"`${basedir.id}-basedir`\"\n              :value=\"basedir.attributes.basedir\"\n              class=\"basedir\"\n              type=\"text\"\n              required\n              placeholder=\"Path\" />\n\n            <b-button\n              type=\"submit.prevent\"\n              variant=\"success\"\n              @click.prevent=\"updateBasedir(basedir.id)\"\n              class=\"btn--update\"\n              title=\"Update directory reference\"\n            ><font-awesome-icon :icon=\"['fa', 'check-circle']\" /></b-button>\n\n            <b-button\n              type=\"submit.prevent\"\n              :variant=\"basedir.id === defaultBasedir.id ? 'secondary':'warning'\"\n              @click.prevent=\"deleteBasedir(basedir.id)\"\n              :disabled=\"basedir.id === defaultBasedir.id\"\n              :title=\"basedir.id === defaultBasedir.id ? 'Cannot delete reference to the default directory' : 'Delete reference to this directory'\"\n              class=\"btn--delete\"\n            >\n              <font-awesome-icon :icon=\"['fa', 'trash-alt']\" />\n            </b-button>\n\n        </b-form-row>\n\n        <b-form-row>\n            <b-form-input\n              ref=\"new-basedir\"\n              type=\"text\"\n              class=\"basedir\"\n              placeholder=\"Input existing directory...\"\n            />\n            <b-button\n              type=\"submit.prevent\"\n              variant=\"success\"\n              @click.prevent=\"addBasedir\"\n              class=\"btn--add\"\n              title=\"Add new directory reference\"\n            ><font-awesome-icon :icon=\"['fa', 'plus-circle']\" /></b-button>\n          <button class=\"btn btn--delete is-invisible\"></button>\n        </b-form-row>\n\n        <hr>\n\n        <h4>Default directory:</h4>\n        <b-form-select\n          v-if=\"basedirs.records.length>1\"\n          id=\"default-basedir-input\"\n          value=\"default\"\n          @change=\"onChangeBasedir($event)\"\n        >\n          <option disabled value=\"\">Select directory...</option>\n          <option v-for=\"basedir in basedirs.records\" :value=\"basedir.id\" :key=\"basedir.id\">{{basedir.attributes.basedir}}</option>\n        </b-form-select>\n        <b-form-input\n          v-else\n          :readonly=\"true\"\n          :value=\"defaultBasedir ? defaultBasedir.attributes.basedir : ''\"\n        />\n\n      </b-container>\n    </b-form>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from 'vuex'\n\nexport default {\n  name: 'Preferences',\n  data () {\n    return {\n      baseDirName: '',\n      baseDirPath: ''\n    }\n  },\n  computed: {\n    ...mapState(['basedirs']),\n    ...mapGetters(['basedirBy']),\n    defaultBasedir () {\n      return this.basedirBy('id', 'default')\n    }\n  },\n  mounted () {\n    this.$store.dispatch('basedirs/loadAll')\n  },\n  methods: {\n    addBasedir () {\n      const recordData = {\n        'attributes': {\n          basedir: this.$refs['new-basedir']['$el'].value\n        }\n      }\n      this.$store.dispatch('basedirs/create', recordData).then(() => {\n        const basedir = this.$store.getters['basedirs/lastCreated']\n        console.log(basedir)\n      })\n    },\n    updateBasedir (basedirId) {\n      const basedir = this.$refs[basedirId + '-basedir'][0]['$el'].value\n\n      if (basedirId && basedir) {\n        const recordData = {\n          id: basedirId,\n          attributes: {\n            basedir\n          }\n        }\n        // const record = this.basedirBy(basedirId)\n        // record.attributes.basedir = basedir\n        // console.log(basedirId, recordData)\n        this.$store.dispatch('basedirs/update', recordData).then((res) => {\n          console.log(res)\n        })\n      }\n    },\n    deleteBasedir (basedirId) {\n      // console.log('deleteBasedir', basedirId)\n      if (basedirId !== 'default') {\n        if (basedirId) {\n          this.$store.dispatch('basedirs/delete', { id: basedirId }).then((res) => {\n            console.log(res)\n          })\n        }\n      } else {\n        // console.log('The default base directory will not be deleted.')\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n  .form-row {\n    padding: 0.25rem;\n  }\n  .basedir {\n    width: calc(100% - 7rem);\n    display: inline-block;\n    margin-right: 0.5rem;\n    margin-left: 0.5rem;\n  }\n  .is-invisible {\n    visibility: hidden;\n  }\n  .btn--delete {\n    width: 3rem;\n  }\n  .btn--add,\n  .btn--update {\n    width: 3rem;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preferences.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Preferences.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Preferences.vue?vue&type=template&id=6d580843&scoped=true&\"\nimport script from \"./Preferences.vue?vue&type=script&lang=js&\"\nexport * from \"./Preferences.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Preferences.vue?vue&type=style&index=0&id=6d580843&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d580843\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}