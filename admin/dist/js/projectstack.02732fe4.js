(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["projectstack"],{"055b":function(e,t,r){e.exports=r.p+"img/python.51c2eab2.svg"},"090e":function(e,t,r){e.exports=r.p+"img/nodejs.94cafb0d.svg"},"11e9":function(e,t,r){var a=r("52a7"),c=r("4630"),n=r("6821"),i=r("6a99"),s=r("69a8"),o=r("c69a"),u=Object.getOwnPropertyDescriptor;t.f=r("9e1e")?u:function(e,t){if(e=n(e),t=i(t,!0),o)try{return u(e,t)}catch(r){}if(s(e,t))return c(!a.f.call(e,t),e[t])}},1540:function(e,t,r){e.exports=r.p+"img/php.fa78b345.svg"},"1b4d":function(e,t,r){e.exports=r.p+"img/flask.318d58cb.svg"},"319f":function(e,t,r){e.exports=r.p+"img/rails.2db29782.svg"},"31e8":function(e,t,r){var a={"./angular.svg":"a230","./apache.svg":"b77f","./codeigniter.svg":"7939","./django.svg":"c6da","./drupal.svg":"a88c","./elasticsearch.svg":"81bb","./flask.svg":"1b4d","./joomla.svg":"5390","./laravel.svg":"41c8","./logo.svg":"9b19","./mariadb.svg":"613e","./memcached.svg":"a0ba","./mysql.svg":"6c4c","./nginx.svg":"c502","./nodejs.svg":"090e","./perl.svg":"c44f","./php.svg":"1540","./python.svg":"055b","./rails.svg":"319f","./react.svg":"b2e9","./redis.svg":"8bcb","./ruby.svg":"9401","./wordpress.svg":"ee3c"};function c(e){var t=n(e);return r(t)}function n(e){var t=a[e];if(!(t+1)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return t}c.keys=function(){return Object.keys(a)},c.resolve=n,e.exports=c,c.id="31e8"},3212:function(e,t,r){"use strict";var a=r("ad55"),c=r.n(a);c.a},3983:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"project-stack-list",attrs:{role:"tablist",id:e.projectBase+"stack"}},e._l(e.groupedStackItems(e.projectStackItems),function(t,a,c){return r("div",{key:a,staticClass:"project-stack"},[r("h2",{staticClass:"stack-title"},[e._v(e._s(a.replace("gearbox.works/","")))]),r("b-button",{staticClass:"js-remove-stack",attrs:{tabindex:100*e.projectIndex+10*c,size:"sm",variant:"outline-secondary","aria-label":"Remove these services",title:"Remove these services"},on:{click:function(t){return t.preventDefault(),e.removeProjectStack(a)}}},[e._v("×")]),r("ul",{staticClass:"service-list"},e._l(t,function(t,a){return r("li",{key:e.id+t.gear.attributes.role,staticClass:"service-item"},[r("project-gear",{attrs:{projectId:e.project.id,stackItem:t,projectIndex:e.projectIndex,stackIndex:c,itemIndex:a}})],1)}),0)],1)}),0)},c=[],n=(r("ac6a"),r("a481"),r("cebc")),i=(r("c5f6"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"project-gear",attrs:{id:e.gearControlId,tabindex:100*e.projectIndex+10*e.stackIndex+e.itemIndex+1}},[e.service?a("img",{staticClass:"service-program",attrs:{src:r("31e8")("./"+e.service.attributes.program+".svg")}}):a("font-awesome-icon",{attrs:{icon:["fa","expand"]}}),a("h6",{staticClass:"gear-role"},[e._v(e._s(e.gear.attributes.role))]),a("b-tooltip",{key:e.gearControlId+"-"+(e.service?e.service.id:"unselected"),attrs:{triggers:"hover",target:e.gearControlId,title:e.programTooltip}}),a("b-popover",{ref:e.gearControlId+"-popover",attrs:{target:e.gearControlId,container:e.projectBase+"stack",triggers:"focus",placement:"bottom"}},[a("template",{slot:"title"},[a("b-button",{staticClass:"close",attrs:{"aria-label":"Close"},on:{click:e.closePopover}},[a("span",{staticClass:"d-inline-block",attrs:{"aria-hidden":"true"}},[e._v("×")])]),e._v("\n      Change service\n    ")],1),a("div",[a("label",{attrs:{for:e.gearControlId+"-input"}},[e._v(e._s(e.gear.attributes.role)+":")]),a("b-form-select",{attrs:{id:e.gearControlId+"-input",value:e.service?e.service.id:"",tabindex:100*e.projectIndex+10*e.stackIndex+e.itemIndex+9},on:{change:function(t){return e.onChangeService(t)}}},[e.defaultService?e._e():a("option",{attrs:{value:""}},[e._v("Do not run this service")]),a("option",{attrs:{disabled:"",value:""}},[e._v("Select service...")]),e._l(e.groupedGearServices,function(t,r){return a("optgroup",{key:r,attrs:{label:r}},e._l(t,function(t){return a("option",{key:t,domProps:{value:t}},[e._v(e._s(t.replace("gearboxworks/","")))])}),0)})],2)],1)],2)],1)}),s=[],o=(r("28a5"),r("2f62")),u={name:"ProjectGear",props:{projectId:{type:String,required:!0},stackItem:{type:Object,required:!0},projectIndex:{type:Number,required:!0},stackIndex:{type:Number,required:!0},itemIndex:{type:Number,required:!0}},data:function(){return{}},computed:Object(n["a"])({},Object(o["b"])(["gearBy","stackBy","stackDefaultServiceByGear","stackServicesByGear"]),{projectBase:function(){return this.escAttr(this.projectId)+"-"},gear:function(){return this.stackItem.gear},service:function(){return this.stackItem.service},stack:function(){return this.stackBy("id",this.gear.attributes.stack_id)},gearControlId:function(){return this.projectBase+(this.stack?this.stack.attributes.stackname+"-":"")+this.gear.attributes.role},defaultService:function(){return this.stackDefaultServiceByGear(this.stack,this.gear.id)},groupedGearServices:function(){var e=this.stackServicesByGear(this.stack,this.gear.id),t={};for(var r in e){var a=e[r].split(":")[0].replace("gearboxworks/","");"undefined"===typeof t[a]&&(t[a]={}),t[a][r]=e[r]}return t},programTooltip:function(){var e=this.service?this.service.attributes:null;return e?e.program+" "+e.version:"Service not selected"}}),methods:{escAttr:function(e){return e.replace(/\//g,"-").replace(/\./g,"-")},onChangeService:function(e){this.$store.dispatch("changeProjectService",{projectId:this.projectId,gearId:this.gear.id,serviceId:e}),this.closePopover()},closePopover:function(){this.$root.$emit("bv::hide::popover",this.gearControlId)}}},p=u,f=(r("5fa1"),r("2877")),v=Object(f["a"])(p,i,s,!1,null,"9d113260",null),l=v.exports,d={name:"ProjectStack",props:{project:{type:Object,required:!0},projectIndex:{type:Number,required:!0}},data:function(){return{id:this.project.id,projectStackItems:this.project.attributes.stack}},components:{ProjectGear:l},computed:Object(n["a"])({},Object(o["b"])(["serviceBy","gearBy"]),{projectBase:function(){return this.escAttr(this.id)+"-"}}),methods:{escAttr:function(e){return e.replace(/\//g,"-").replace(/\./g,"-")},groupedStackItems:function(e){var t=this,r={};return e.forEach(function(e){var a=t.gearBy("id",e.gearspec_id);if(a){"undefined"===typeof r[a.attributes.stack_id]&&(r[a.attributes.stack_id]=[]);var c=e.service_id?t.serviceBy("id",e.service_id):null;r[a.attributes.stack_id].push({gear:a,service:c})}}),r},removeProjectStack:function(e){this.$store.dispatch("removeProjectStack",{projectId:this.id,stackId:e})}}},g=d,b=(r("3212"),Object(f["a"])(g,a,c,!1,null,"2956c29c",null));t["default"]=b.exports},"41c8":function(e,t,r){e.exports=r.p+"img/laravel.1766a461.svg"},5390:function(e,t,r){e.exports=r.p+"img/joomla.d8aa2e45.svg"},"5dbc":function(e,t,r){var a=r("d3f4"),c=r("8b97").set;e.exports=function(e,t,r){var n,i=t.constructor;return i!==r&&"function"==typeof i&&(n=i.prototype)!==r.prototype&&a(n)&&c&&c(e,n),e}},"5fa1":function(e,t,r){"use strict";var a=r("ce0e"),c=r.n(a);c.a},"613e":function(e,t,r){e.exports=r.p+"img/mariadb.e16110bc.svg"},"6c4c":function(e,t,r){e.exports=r.p+"img/mysql.dd2a5a35.svg"},7939:function(e,t,r){e.exports=r.p+"img/codeigniter.434bf735.svg"},"81bb":function(e,t,r){e.exports=r.p+"img/elasticsearch.3ecfa530.svg"},"8b97":function(e,t,r){var a=r("d3f4"),c=r("cb7c"),n=function(e,t){if(c(e),!a(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,a){try{a=r("9b43")(Function.call,r("11e9").f(Object.prototype,"__proto__").set,2),a(e,[]),t=!(e instanceof Array)}catch(c){t=!0}return function(e,r){return n(e,r),t?e.__proto__=r:a(e,r),e}}({},!1):void 0),check:n}},"8bcb":function(e,t,r){e.exports=r.p+"img/redis.3c39fafe.svg"},9093:function(e,t,r){var a=r("ce10"),c=r("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return a(e,c)}},9401:function(e,t,r){e.exports=r.p+"img/ruby.514befa7.svg"},"9b19":function(e,t,r){e.exports=r.p+"img/logo.63a7d78d.svg"},a0ba:function(e,t,r){e.exports=r.p+"img/memcached.2bcccabf.svg"},a230:function(e,t,r){e.exports=r.p+"img/angular.e224f5ed.svg"},a481:function(e,t,r){"use strict";var a=r("cb7c"),c=r("4bf8"),n=r("9def"),i=r("4588"),s=r("0390"),o=r("5f1b"),u=Math.max,p=Math.min,f=Math.floor,v=/\$([$&`']|\d\d?|<[^>]*>)/g,l=/\$([$&`']|\d\d?)/g,d=function(e){return void 0===e?e:String(e)};r("214f")("replace",2,function(e,t,r,g){return[function(a,c){var n=e(this),i=void 0==a?void 0:a[t];return void 0!==i?i.call(a,n,c):r.call(String(n),a,c)},function(e,t){var c=g(r,e,this,t);if(c.done)return c.value;var f=a(e),v=String(this),l="function"===typeof t;l||(t=String(t));var h=f.global;if(h){var m=f.unicode;f.lastIndex=0}var k=[];while(1){var I=o(f,v);if(null===I)break;if(k.push(I),!h)break;var x=String(I[0]);""===x&&(f.lastIndex=s(v,n(f.lastIndex),m))}for(var j="",y=0,_=0;_<k.length;_++){I=k[_];for(var S=String(I[0]),C=u(p(i(I.index),v.length),0),N=[],O=1;O<I.length;O++)N.push(d(I[O]));var w=I.groups;if(l){var E=[S].concat(N,C,v);void 0!==w&&E.push(w);var A=String(t.apply(void 0,E))}else A=b(S,v,C,N,w,t);C>=y&&(j+=v.slice(y,C)+A,y=C+S.length)}return j+v.slice(y)}];function b(e,t,a,n,i,s){var o=a+e.length,u=n.length,p=l;return void 0!==i&&(i=c(i),p=v),r.call(s,p,function(r,c){var s;switch(c.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,a);case"'":return t.slice(o);case"<":s=i[c.slice(1,-1)];break;default:var p=+c;if(0===p)return r;if(p>u){var v=f(p/10);return 0===v?r:v<=u?void 0===n[v-1]?c.charAt(1):n[v-1]+c.charAt(1):r}s=n[p-1]}return void 0===s?"":s})}})},a88c:function(e,t,r){e.exports=r.p+"img/drupal.66089b06.svg"},aa77:function(e,t,r){var a=r("5ca1"),c=r("be13"),n=r("79e5"),i=r("fdef"),s="["+i+"]",o="​",u=RegExp("^"+s+s+"*"),p=RegExp(s+s+"*$"),f=function(e,t,r){var c={},s=n(function(){return!!i[e]()||o[e]()!=o}),u=c[e]=s?t(v):i[e];r&&(c[r]=u),a(a.P+a.F*s,"String",c)},v=f.trim=function(e,t){return e=String(c(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(p,"")),e};e.exports=f},ad55:function(e,t,r){},b2e9:function(e,t,r){e.exports=r.p+"img/react.9a28da9f.svg"},b77f:function(e,t,r){e.exports=r.p+"img/apache.12c49354.svg"},c44f:function(e,t,r){e.exports=r.p+"img/perl.a025edb4.svg"},c502:function(e,t,r){e.exports=r.p+"img/nginx.eae76401.svg"},c5f6:function(e,t,r){"use strict";var a=r("7726"),c=r("69a8"),n=r("2d95"),i=r("5dbc"),s=r("6a99"),o=r("79e5"),u=r("9093").f,p=r("11e9").f,f=r("86cc").f,v=r("aa77").trim,l="Number",d=a[l],g=d,b=d.prototype,h=n(r("2aeb")(b))==l,m="trim"in String.prototype,k=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){t=m?t.trim():v(t,3);var r,a,c,n=t.charCodeAt(0);if(43===n||45===n){if(r=t.charCodeAt(2),88===r||120===r)return NaN}else if(48===n){switch(t.charCodeAt(1)){case 66:case 98:a=2,c=49;break;case 79:case 111:a=8,c=55;break;default:return+t}for(var i,o=t.slice(2),u=0,p=o.length;u<p;u++)if(i=o.charCodeAt(u),i<48||i>c)return NaN;return parseInt(o,a)}}return+t};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof d&&(h?o(function(){b.valueOf.call(r)}):n(r)!=l)?i(new g(k(t)),r,d):k(t)};for(var I,x=r("9e1e")?u(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),j=0;x.length>j;j++)c(g,I=x[j])&&!c(d,I)&&f(d,I,p(g,I));d.prototype=b,b.constructor=d,r("2aba")(a,l,d)}},c6da:function(e,t,r){e.exports=r.p+"img/django.28fe09a0.svg"},ce0e:function(e,t,r){},ee3c:function(e,t,r){e.exports=r.p+"img/wordpress.b08e20e3.svg"},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=projectstack.02732fe4.js.map