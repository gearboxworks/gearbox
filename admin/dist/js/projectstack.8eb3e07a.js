(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["projectstack"],{"055b":function(e,t,r){e.exports=r.p+"img/python.51c2eab2.svg"},"0694":function(e,t,r){},"090e":function(e,t,r){e.exports=r.p+"img/nodejs.94cafb0d.svg"},"11e9":function(e,t,r){var c=r("52a7"),o=r("4630"),s=r("6821"),i=r("6a99"),n=r("69a8"),a=r("c69a"),p=Object.getOwnPropertyDescriptor;t.f=r("9e1e")?p:function(e,t){if(e=s(e),t=i(t,!0),a)try{return p(e,t)}catch(r){}if(n(e,t))return o(!c.f.call(e,t),e[t])}},1540:function(e,t,r){e.exports=r.p+"img/php.fa78b345.svg"},"18e9":function(e,t,r){"use strict";var c=r("8c79"),o=r.n(c);o.a},"1b4d":function(e,t,r){e.exports=r.p+"img/flask.318d58cb.svg"},"319f":function(e,t,r){e.exports=r.p+"img/rails.2db29782.svg"},"31e8":function(e,t,r){var c={"./angular.svg":"a230","./apache.svg":"b77f","./codeigniter.svg":"7939","./django.svg":"c6da","./drupal.svg":"a88c","./elasticsearch.svg":"81bb","./flask.svg":"1b4d","./joomla.svg":"5390","./laravel.svg":"41c8","./logo.svg":"9b19","./mariadb.svg":"613e","./memcached.svg":"a0ba","./mysql.svg":"6c4c","./nginx.svg":"c502","./nodejs.svg":"090e","./perl.svg":"c44f","./php.svg":"1540","./python.svg":"055b","./rails.svg":"319f","./react.svg":"b2e9","./redis.svg":"8bcb","./ruby.svg":"9401","./wordpress.svg":"ee3c"};function o(e){var t=s(e);return r(t)}function s(e){var t=c[e];if(!(t+1)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return t}o.keys=function(){return Object.keys(c)},o.resolve=s,e.exports=o,o.id="31e8"},3983:function(e,t,r){"use strict";r.r(t);var c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"project-stack-list",attrs:{role:"tablist",id:e.projectBase+"stack"}},e._l(e.groupProjectServicesByStack(e.stack),function(t,c,o){return r("div",{key:c,staticClass:"project-stack"},[r("h2",{staticClass:"stack-title"},[e._v(e._s(c.replace("gearbox.works/","")))]),r("b-button",{staticClass:"js-remove-stack",attrs:{tabindex:100*e.projectIndex+10*o,size:"sm",variant:"outline-secondary","aria-label":"Remove this stack from project",title:"Remove this stack from project"},on:{click:function(t){return t.preventDefault(),e.removeProjectStack(c)}}},[e._v("×")]),r("ul",{staticClass:"service-list"},e._l(t,function(t,c,s){return r("li",{key:e.id+t.id,staticClass:"service-item"},[r("project-service",{attrs:{projectId:e.project.id,service:t,projectIndex:e.projectIndex,stackIndex:o,serviceIndex:s}})],1)}),0)],1)}),0)},o=[],s=(r("ac6a"),r("a481"),r("cebc")),i=(r("c5f6"),function(){var e=this,t=e.$createElement,c=e._self._c||t;return c("div",{staticClass:"project-service",attrs:{id:e.serviceControlId,tabindex:100*e.projectIndex+10*e.stackIndex+e.serviceIndex+1}},[e.program?c("img",{staticClass:"service-program",attrs:{src:r("31e8")("./"+e.program+".svg")}}):c("font-awesome-icon",{attrs:{icon:["fa","expand"]}}),c("h6",{staticClass:"service-role"},[e._v(e._s(e.role))]),c("b-tooltip",{key:e.id,attrs:{triggers:"hover",target:e.serviceControlId,title:e.programTooltip(e.program,e.version)}}),c("b-popover",{ref:e.serviceControlId+"-popover",attrs:{target:e.serviceControlId,container:e.projectControlId+"stack",triggers:"focus",placement:"bottom"}},[c("template",{slot:"title"},[c("b-button",{staticClass:"close",attrs:{"aria-label":"Close"},on:{click:function(t){return e.onClosePopoverFor(e.serviceControlId)}}},[c("span",{staticClass:"d-inline-block",attrs:{"aria-hidden":"true"}},[e._v("×")])]),e._v("\n      Change service\n    ")],1),c("div",[c("label",{attrs:{for:e.serviceControlId+"-input"}},[e._v(e._s(e.role)+":")]),c("b-form-select",{attrs:{id:e.serviceControlId+"-input",value:e.id,tabindex:100*e.projectIndex+10*e.stackIndex+e.serviceIndex+9},on:{change:function(t){return e.changeProjectService(e.gearspec_id,t,e.role)}}},[e.stackRoleDefaultService(e.role)?e._e():c("option",{attrs:{value:""}},[e._v("Do not run this service")]),c("option",{attrs:{disabled:"",value:""}},[e._v("Select service...")]),e._l(e.serviceOptionGroups(e.stackRoleServices(e.role)),function(t,r){return c("optgroup",{key:r,attrs:{label:r}},e._l(t,function(t){return c("option",{key:t,domProps:{value:t}},[e._v(e._s(t.replace("gearboxworks/","")))])}),0)})],2)],1)],2)],1)}),n=[],a=(r("28a5"),r("7514"),r("2f62")),p={name:"ProjectService",props:{projectId:{type:String,required:!0},service:{type:Object,required:!0},projectIndex:{type:Number,required:!0},stackIndex:{type:Number,required:!0},serviceIndex:{type:Number,required:!0}},data:function(){return Object(s["a"])({id:this.service.id},this.service.attributes)},computed:Object(s["a"])({},Object(a["b"])(["gearspecBy","stackBy"]),{projectControlId:function(){return this.escAttr(this.projectId)+"-"},serviceControlId:function(){return this.projectControlId+(this.stack?this.stack.attributes.stackname+"-":"")+this.role},gear:function(){return this.gearspecBy("id",this.gearspec_id)},role:function(){var e=this.gear;return e?this.escAttr(e.attributes.role):""},stack:function(){var e=this.gear;return e?this.stackBy("id",e.attributes.stack_id):null}}),methods:{escAttr:function(e){return e.replace(/\//g,"-").replace(/\./g,"-")},stackRoleObject:function(e){var t=this.gear,r=t?this.stackBy("id",t.attributes.stack_id):null,c=r?r.attributes.members:[];return c.find(function(t){return t.role===e})},stackRoleServices:function(e){var t=this.stackRoleObject(e);return t?t.services:[]},stackRoleDefaultService:function(e){var t=this.stackRoleObject(e);return t&&"undefined"!==typeof t.default_service?t.default_service:""},stackRoleSmartDefaultService:function(e){var t=this.stackRoleObject(e),r=this.stackRoleDefaultService(e),c=-1,o=-1;if(r)for(var s=t.services.length;s--;)if(-1!==t.services[s].indexOf(r)&&(-1===c&&(c=s),t.services[s]===r)){o=s;break}var i=-1!==c?t.services[-1!==o?o:c]:"";return i},serviceOptionGroups:function(e){var t={};for(var r in e){var c=e[r].split(":")[0].replace("gearboxworks/","");"undefined"===typeof t[c]&&(t[c]={}),t[c][r]=e[r]}return t},removeProjectStack:function(){this.$store.dispatch("removeProjectStack",{projectId:this.projectId,stackName:this.stackName})},programTooltip:function(e,t){return e&&t?e+" "+t:"Service not selected"},changeProjectService:function(e,t,r){this.$store.dispatch("changeProjectService",{projectId:this.projectId,gearspecId:e,serviceId:t}),this.onClosePopoverFor(this.serviceControlId)},onClosePopoverFor:function(e){this.$root.$emit("bv::hide::popover",e)}}},u=p,v=(r("5768"),r("2877")),f=Object(v["a"])(u,i,n,!1,null,"0c8c67c9",null),l=f.exports,d={name:"ProjectStack",props:{project:{type:Object,required:!0},projectIndex:{type:Number,required:!0}},data:function(){return Object(s["a"])({id:this.project.id},this.project.attributes)},components:{ProjectService:l},computed:Object(s["a"])({},Object(a["b"])(["serviceBy","gearspecBy"]),{projectBase:function(){return this.escAttr(this.id)+"-"}}),methods:{escAttr:function(e){return e.replace(/\//g,"-").replace(/\./g,"-")},groupProjectServicesByStack:function(e){var t=this,r={};return e.forEach(function(e,c){var o=t.gearspecBy("id",e.gearspec_id),s=t.serviceBy("id",e.service_id);o&&s&&("undefined"===typeof r[o.attributes.stack_id]&&(r[o.attributes.stack_id]={}),r[o.attributes.stack_id][t.escAttr(o.attributes.role)]=s)}),r},removeProjectStack:function(e){this.$store.dispatch("removeProjectStack",{projectId:this.id,stackId:e})}}},g=d,b=(r("18e9"),Object(v["a"])(g,c,o,!1,null,"7b13a094",null));t["default"]=b.exports},"41c8":function(e,t,r){e.exports=r.p+"img/laravel.1766a461.svg"},5390:function(e,t,r){e.exports=r.p+"img/joomla.d8aa2e45.svg"},5768:function(e,t,r){"use strict";var c=r("0694"),o=r.n(c);o.a},"5dbc":function(e,t,r){var c=r("d3f4"),o=r("8b97").set;e.exports=function(e,t,r){var s,i=t.constructor;return i!==r&&"function"==typeof i&&(s=i.prototype)!==r.prototype&&c(s)&&o&&o(e,s),e}},"613e":function(e,t,r){e.exports=r.p+"img/mariadb.e16110bc.svg"},"6c4c":function(e,t,r){e.exports=r.p+"img/mysql.dd2a5a35.svg"},7939:function(e,t,r){e.exports=r.p+"img/codeigniter.434bf735.svg"},"81bb":function(e,t,r){e.exports=r.p+"img/elasticsearch.3ecfa530.svg"},"8b97":function(e,t,r){var c=r("d3f4"),o=r("cb7c"),s=function(e,t){if(o(e),!c(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,c){try{c=r("9b43")(Function.call,r("11e9").f(Object.prototype,"__proto__").set,2),c(e,[]),t=!(e instanceof Array)}catch(o){t=!0}return function(e,r){return s(e,r),t?e.__proto__=r:c(e,r),e}}({},!1):void 0),check:s}},"8bcb":function(e,t,r){e.exports=r.p+"img/redis.3c39fafe.svg"},"8c79":function(e,t,r){},9093:function(e,t,r){var c=r("ce10"),o=r("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return c(e,o)}},9401:function(e,t,r){e.exports=r.p+"img/ruby.514befa7.svg"},"9b19":function(e,t,r){e.exports=r.p+"img/logo.63a7d78d.svg"},a0ba:function(e,t,r){e.exports=r.p+"img/memcached.2bcccabf.svg"},a230:function(e,t,r){e.exports=r.p+"img/angular.e224f5ed.svg"},a88c:function(e,t,r){e.exports=r.p+"img/drupal.66089b06.svg"},aa77:function(e,t,r){var c=r("5ca1"),o=r("be13"),s=r("79e5"),i=r("fdef"),n="["+i+"]",a="​",p=RegExp("^"+n+n+"*"),u=RegExp(n+n+"*$"),v=function(e,t,r){var o={},n=s(function(){return!!i[e]()||a[e]()!=a}),p=o[e]=n?t(f):i[e];r&&(o[r]=p),c(c.P+c.F*n,"String",o)},f=v.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(p,"")),2&t&&(e=e.replace(u,"")),e};e.exports=v},b2e9:function(e,t,r){e.exports=r.p+"img/react.9a28da9f.svg"},b77f:function(e,t,r){e.exports=r.p+"img/apache.12c49354.svg"},c44f:function(e,t,r){e.exports=r.p+"img/perl.a025edb4.svg"},c502:function(e,t,r){e.exports=r.p+"img/nginx.eae76401.svg"},c5f6:function(e,t,r){"use strict";var c=r("7726"),o=r("69a8"),s=r("2d95"),i=r("5dbc"),n=r("6a99"),a=r("79e5"),p=r("9093").f,u=r("11e9").f,v=r("86cc").f,f=r("aa77").trim,l="Number",d=c[l],g=d,b=d.prototype,m=s(r("2aeb")(b))==l,h="trim"in String.prototype,j=function(e){var t=n(e,!1);if("string"==typeof t&&t.length>2){t=h?t.trim():f(t,3);var r,c,o,s=t.charCodeAt(0);if(43===s||45===s){if(r=t.charCodeAt(2),88===r||120===r)return NaN}else if(48===s){switch(t.charCodeAt(1)){case 66:case 98:c=2,o=49;break;case 79:case 111:c=8,o=55;break;default:return+t}for(var i,a=t.slice(2),p=0,u=a.length;p<u;p++)if(i=a.charCodeAt(p),i<48||i>o)return NaN;return parseInt(a,c)}}return+t};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof d&&(m?a(function(){b.valueOf.call(r)}):s(r)!=l)?i(new g(j(t)),r,d):j(t)};for(var k,x=r("9e1e")?p(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;x.length>I;I++)o(g,k=x[I])&&!o(d,k)&&v(d,k,u(g,k));d.prototype=b,b.constructor=d,r("2aba")(c,l,d)}},c6da:function(e,t,r){e.exports=r.p+"img/django.28fe09a0.svg"},ee3c:function(e,t,r){e.exports=r.p+"img/wordpress.b08e20e3.svg"},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=projectstack.8eb3e07a.js.map