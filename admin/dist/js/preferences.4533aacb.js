(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["preferences"],{"7b29":function(e,t,r){},a55d:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-form",[r("b-container",[r("h1",[e._v("Preferences")]),r("hr"),r("h2",[e._v("Project Directories")]),r("h4",[e._v("Known directories:")]),e._l(e.basedirs.records,function(t){return r("b-form-row",{key:t.id},[r("b-form-input",{ref:t.id+"-basedir",refInFor:!0,staticClass:"basedir",attrs:{id:t.id+"-basedir",value:t.attributes.basedir,state:e.inputState(t.id),type:"text",required:"",placeholder:"Path"},on:{keyup:function(r){return e.touch(t.id)},change:function(r){return e.touch(t.id)}}}),r("b-button",{staticClass:"btn--update",attrs:{type:"submit.prevent",variant:e.touched[t.id]?"success":"secondary",disabled:!e.touched[t.id],title:"Update directory reference"},on:{click:function(r){return r.preventDefault(),e.updateBasedir(t.id)}}},[r("font-awesome-icon",{attrs:{icon:["fa","check-circle"]}})],1),r("b-button",{staticClass:"btn--delete",attrs:{type:"submit.prevent",variant:t.id===e.defaultBasedir.id?"secondary":"warning",disabled:t.id===e.defaultBasedir.id,title:t.id===e.defaultBasedir.id?"Cannot delete reference to the default directory":"Delete reference to this directory"},on:{click:function(r){return r.preventDefault(),e.deleteBasedir(t.id)}}},[r("font-awesome-icon",{attrs:{icon:["fa","trash-alt"]}})],1),r("div",{staticClass:"invalid-feedback d-block"},[e._v(e._s(e.errors[t.id]||" "))])],1)}),r("b-form-row",[r("b-form-input",{ref:"add-basedir",staticClass:"basedir",attrs:{type:"text",placeholder:"Input existing directory...",state:e.inputState("add")},on:{keyup:function(t){return e.touch("add")},change:function(t){return e.touch("add")}}}),r("b-button",{staticClass:"btn--add",attrs:{type:"submit.prevent",variant:e.touched["add"]?"success":"secondary",disabled:!e.touched["add"],title:"Add new directory reference"},on:{click:function(t){return t.preventDefault(),e.addBasedir(t)}}},[r("font-awesome-icon",{attrs:{icon:["fa","plus-circle"]}})],1),r("button",{staticClass:"btn btn--delete is-invisible"}),r("div",{staticClass:"invalid-feedback d-block"},[e._v(e._s(e.errors["add"]||" "))])],1),r("hr"),r("h4",[e._v("Default directory:")]),e.basedirs.records.length>1?r("b-form-select",{attrs:{id:"default-basedir-input",value:"default"},on:{change:function(t){return e.onChangeBasedir(t)}}},[r("option",{attrs:{disabled:"",value:""}},[e._v("Select directory...")]),e._l(e.basedirs.records,function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.attributes.basedir))])})],2):r("b-form-input",{attrs:{readonly:!0,value:e.defaultBasedir?e.defaultBasedir.attributes.basedir:""}})],2)],1)],1)},s=[],a=r("cebc"),d=r("2f62"),n={name:"Preferences",data:function(){return{errors:{},touched:{}}},computed:Object(a["a"])({},Object(d["c"])(["basedirs"]),Object(d["b"])(["basedirBy"]),{defaultBasedir:function(){return this.basedirBy("id","default")}}),mounted:function(){this.$store.dispatch("basedirs/loadAll")},methods:{touch:function(e){this.$set(this.touched,e,!0),this.$delete(this.errors,e)},inputState:function(e){return"undefined"===typeof this.errors[e]?null:"no error"===this.errors[e]},addBasedir:function(){var e=this,t=this.$refs["add-basedir"]["$el"],r=t.value,i={attributes:{basedir:r}};this.$store.dispatch("basedirs/create",i).then(function(r){console.log(r),e.$set(e.touched,"add",!0),e.$delete(e.errors,"add"),t.value=""}).catch(function(t){e.$set(e.errors,"add",t.data.errors[0].title||t.statusText),e.$delete(e.touched,"add")})},updateBasedir:function(e){var t=this,r=this.$refs[e+"-basedir"][0]["$el"].value;if(e&&r){var i={id:e,type:"basedirs",attributes:{basedir:r,nickname:e}};this.$store.dispatch("basedirs/update",i).then(function(r){console.log(r),t.$set(t.errors,e,"no error"),t.$delete(t.touched,e)}).catch(function(r){t.$nextTick(function(){this.$set(this.errors,e,r.data.errors[0].title||r.statusText)})})}},deleteBasedir:function(e){var t=this;"default"!==e&&e&&this.$store.dispatch("basedirs/delete",{id:e}).then(function(r){t.$delete(t.errors,e),t.$delete(t.touched,e)})}}},o=n,c=(r("eeb6"),r("2877")),u=Object(c["a"])(o,i,s,!1,null,"61e53a46",null);t["default"]=u.exports},eeb6:function(e,t,r){"use strict";var i=r("7b29"),s=r.n(i);s.a}}]);
//# sourceMappingURL=preferences.4533aacb.js.map